/*! For license information please see quill.js.LICENSE.txt */(function(Ie,Ae){typeof exports=="object"&&typeof module=="object"?module.exports=Ae():typeof define=="function"&&define.amd?define([],Ae):typeof exports=="object"?exports.Quill=Ae():Ie.Quill=Ae()})(self,(function(){return(function(){var Ie={9698:function(Q,C,e){"use strict";e.d(C,{Ay:function(){return k},Ji:function(){return T},mG:function(){return E},zo:function(){return l}});var f=e(6003),x=e(5232),O=e.n(x),A=e(3036),j=e(4850),a=e(5508);class k extends f.BlockBlot{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=E(this)),this.cache.delta}deleteAt(v,_){super.deleteAt(v,_),this.cache={}}formatAt(v,_,B,z){_<=0||(this.scroll.query(B,f.Scope.BLOCK)?v+_===this.length()&&this.format(B,z):super.formatAt(v,Math.min(_,this.length()-v-1),B,z),this.cache={})}insertAt(v,_,B){if(B!=null)return super.insertAt(v,_,B),void(this.cache={});if(_.length===0)return;const z=_.split(`
`),tt=z.shift();tt.length>0&&(v<this.length()-1||this.children.tail==null?super.insertAt(Math.min(v,this.length()-1),tt):this.children.tail.insertAt(this.children.tail.length(),tt),this.cache={});let rt=this;z.reduce(((W,m)=>(rt=rt.split(W,!0),rt.insertAt(0,m),m.length)),v+tt.length)}insertBefore(v,_){const{head:B}=this.children;super.insertBefore(v,_),B instanceof A.A&&B.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(v,_){super.moveChildren(v,_),this.cache={}}optimize(v){super.optimize(v),this.cache={}}path(v){return super.path(v,!0)}removeChild(v){super.removeChild(v),this.cache={}}split(v){let _=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(_&&(v===0||v>=this.length()-1)){const z=this.clone();return v===0?(this.parent.insertBefore(z,this),this):(this.parent.insertBefore(z,this.next),z)}const B=super.split(v,_);return this.cache={},B}}k.blotName="block",k.tagName="P",k.defaultChild=A.A,k.allowedChildren=[A.A,j.A,f.EmbedBlot,a.A];class l extends f.EmbedBlot{attach(){super.attach(),this.attributes=new f.AttributorStore(this.domNode)}delta(){return new(O())().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(v,_){const B=this.scroll.query(v,f.Scope.BLOCK_ATTRIBUTE);B!=null&&this.attributes.attribute(B,_)}formatAt(v,_,B,z){this.format(B,z)}insertAt(v,_,B){if(B!=null)return void super.insertAt(v,_,B);const z=_.split(`
`),tt=z.pop(),rt=z.map((m=>{const R=this.scroll.create(k.blotName);return R.insertAt(0,m),R})),W=this.split(v);rt.forEach((m=>{this.parent.insertBefore(m,W)})),tt&&this.parent.insertBefore(this.scroll.create("text",tt),W)}}function E(h){let v=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return h.descendants(f.LeafBlot).reduce(((_,B)=>B.length()===0?_:_.insert(B.value(),T(B,{},v))),new(O())).insert(`
`,T(h))}function T(h){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return h==null?v:("formats"in h&&typeof h.formats=="function"&&(v={...v,...h.formats()},_&&delete v["code-token"]),h.parent==null||h.parent.statics.blotName==="scroll"||h.parent.statics.scope!==h.statics.scope?v:T(h.parent,v,_))}l.scope=f.Scope.BLOCK_BLOT},3036:function(Q,C,e){"use strict";var f=e(6003);class x extends f.EmbedBlot{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}x.blotName="break",x.tagName="BR",C.A=x},580:function(Q,C,e){"use strict";var f=e(6003);class x extends f.ContainerBlot{}C.A=x},4541:function(Q,C,e){"use strict";var f=e(6003),x=e(5508);class O extends f.EmbedBlot{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(j,a,k){super(j,a),this.selection=k,this.textNode=document.createTextNode(O.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(j,a){if(this.savedLength!==0)return void super.format(j,a);let k=this,l=0;for(;k!=null&&k.statics.scope!==f.Scope.BLOCK_BLOT;)l+=k.offset(k.parent),k=k.parent;k!=null&&(this.savedLength=O.CONTENTS.length,k.optimize(),k.formatAt(l,O.CONTENTS.length,j,a),this.savedLength=0)}index(j,a){return j===this.textNode?0:super.index(j,a)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const j=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const a=this.prev instanceof x.A?this.prev:null,k=a?a.length():0,l=this.next instanceof x.A?this.next:null,E=l?l.text:"",{textNode:T}=this,h=T.data.split(O.CONTENTS).join("");let v;if(T.data=O.CONTENTS,a)v=a,(h||l)&&(a.insertAt(a.length(),h+E),l&&l.remove());else if(l)v=l,l.insertAt(0,h);else{const _=document.createTextNode(h);v=this.scroll.create(_),this.parent.insertBefore(v,this)}if(this.remove(),j){const _=(tt,rt)=>a&&tt===a.domNode?rt:tt===T?k+rt-1:l&&tt===l.domNode?k+h.length+rt:null,B=_(j.start.node,j.start.offset),z=_(j.end.node,j.end.offset);if(B!==null&&z!==null)return{startNode:v.domNode,startOffset:B,endNode:v.domNode,endOffset:z}}return null}update(j,a){if(j.some((k=>k.type==="characterData"&&k.target===this.textNode))){const k=this.restore();k&&(a.range=k)}}optimize(j){super.optimize(j);let{parent:a}=this;for(;a;){if(a.domNode.tagName==="A"){this.savedLength=O.CONTENTS.length,a.isolate(this.offset(a),this.length()).unwrap(),this.savedLength=0;break}a=a.parent}}value(){return""}}C.A=O},746:function(Q,C,e){"use strict";var f=e(6003),x=e(5508);const O="\uFEFF";class A extends f.EmbedBlot{constructor(a,k){super(a,k),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach((l=>{this.contentNode.appendChild(l)})),this.leftGuard=document.createTextNode(O),this.rightGuard=document.createTextNode(O),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(a,k){return a===this.leftGuard?0:a===this.rightGuard?1:super.index(a,k)}restore(a){let k,l=null;const E=a.data.split(O).join("");if(a===this.leftGuard)if(this.prev instanceof x.A){const T=this.prev.length();this.prev.insertAt(T,E),l={startNode:this.prev.domNode,startOffset:T+E.length}}else k=document.createTextNode(E),this.parent.insertBefore(this.scroll.create(k),this),l={startNode:k,startOffset:E.length};else a===this.rightGuard&&(this.next instanceof x.A?(this.next.insertAt(0,E),l={startNode:this.next.domNode,startOffset:E.length}):(k=document.createTextNode(E),this.parent.insertBefore(this.scroll.create(k),this.next),l={startNode:k,startOffset:E.length}));return a.data=O,l}update(a,k){a.forEach((l=>{if(l.type==="characterData"&&(l.target===this.leftGuard||l.target===this.rightGuard)){const E=this.restore(l.target);E&&(k.range=E)}}))}}C.A=A},4850:function(Q,C,e){"use strict";var f=e(6003),x=e(3036),O=e(5508);class A extends f.InlineBlot{static allowedChildren=[A,x.A,f.EmbedBlot,O.A];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(a,k){const l=A.order.indexOf(a),E=A.order.indexOf(k);return l>=0||E>=0?l-E:a===k?0:a<k?-1:1}formatAt(a,k,l,E){if(A.compare(this.statics.blotName,l)<0&&this.scroll.query(l,f.Scope.BLOT)){const T=this.isolate(a,k);E&&T.wrap(l,E)}else super.formatAt(a,k,l,E)}optimize(a){if(super.optimize(a),this.parent instanceof A&&A.compare(this.statics.blotName,this.parent.statics.blotName)>0){const k=this.parent.isolate(this.offset(),this.length());this.moveChildren(k),k.wrap(this)}}}C.A=A},5508:function(Q,C,e){"use strict";e.d(C,{A:function(){return x},X:function(){return A}});var f=e(6003);class x extends f.TextBlot{}const O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function A(j){return j.replace(/[&<>"']/g,(a=>O[a]))}},3729:function(Q,C,e){"use strict";e.d(C,{default:function(){return t}});var f=e(6142),x=e(9698),O=e(3036),A=e(580),j=e(4541),a=e(746),k=e(4850),l=e(6003),E=e(5232),T=e.n(E),h=e(5374);function v(n){return n instanceof x.Ay||n instanceof x.zo}function _(n){return typeof n.updateContent=="function"}class B extends l.ScrollBlot{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=x.Ay;static allowedChildren=[x.Ay,x.zo,A.A];constructor(r,L,c){let{emitter:p}=c;super(r,L),this.emitter=p,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",(w=>this.handleDragStart(w)))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const r=this.batch;this.batch=!1,this.update(r)}emitMount(r){this.emitter.emit(h.A.events.SCROLL_BLOT_MOUNT,r)}emitUnmount(r){this.emitter.emit(h.A.events.SCROLL_BLOT_UNMOUNT,r)}emitEmbedUpdate(r,L){this.emitter.emit(h.A.events.SCROLL_EMBED_UPDATE,r,L)}deleteAt(r,L){const[c,p]=this.line(r),[w]=this.line(r+L);if(super.deleteAt(r,L),w!=null&&c!==w&&p>0){if(c instanceof x.zo||w instanceof x.zo)return void this.optimize();const q=w.children.head instanceof O.A?null:w.children.head;c.moveChildren(w,q),c.remove()}this.optimize()}enable(){let r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",r?"true":"false")}formatAt(r,L,c,p){super.formatAt(r,L,c,p),this.optimize()}insertAt(r,L,c){if(r>=this.length())if(c==null||this.scroll.query(L,l.Scope.BLOCK)==null){const p=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(p),c==null&&L.endsWith(`
`)?p.insertAt(0,L.slice(0,-1),c):p.insertAt(0,L,c)}else{const p=this.scroll.create(L,c);this.appendChild(p)}else super.insertAt(r,L,c);this.optimize()}insertBefore(r,L){if(r.statics.scope===l.Scope.INLINE_BLOT){const c=this.scroll.create(this.statics.defaultChild.blotName);c.appendChild(r),super.insertBefore(c,L)}else super.insertBefore(r,L)}insertContents(r,L){const c=this.deltaToRenderBlocks(L.concat(new(T())().insert(`
`))),p=c.pop();if(p==null)return;this.batchStart();const w=c.shift();if(w){const s=w.type==="block"&&(w.delta.length()===0||!this.descendant(x.zo,r)[0]&&r<this.length()),o=w.type==="block"?w.delta:new(T())().insert({[w.key]:w.value});z(this,r,o);const d=w.type==="block"?1:0,N=r+o.length()+d;s&&this.insertAt(N-1,`
`);const S=(0,x.Ji)(this.line(r)[0]),U=E.AttributeMap.diff(S,w.attributes)||{};Object.keys(U).forEach(($=>{this.formatAt(N-1,1,$,U[$])})),r=N}let[q,g]=this.children.find(r);c.length&&(q&&(q=q.split(g),g=0),c.forEach((s=>{if(s.type==="block")z(this.createBlock(s.attributes,q||void 0),0,s.delta);else{const o=this.create(s.key,s.value);this.insertBefore(o,q||void 0),Object.keys(s.attributes).forEach((d=>{o.format(d,s.attributes[d])}))}}))),p.type==="block"&&p.delta.length()&&z(this,q?q.offset(q.scroll)+g:this.length(),p.delta),this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(r){const L=this.path(r).pop();if(!L)return[null,-1];const[c,p]=L;return c instanceof l.LeafBlot?[c,p]:[null,-1]}line(r){return r===this.length()?this.line(r-1):this.descendant(v,r)}lines(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const c=(p,w,q)=>{let g=[],s=q;return p.children.forEachAt(w,q,((o,d,N)=>{v(o)?g.push(o):o instanceof l.ContainerBlot&&(g=g.concat(c(o,d,s))),s-=N})),g};return c(this,r,L)}optimize(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(r,L),r.length>0&&this.emitter.emit(h.A.events.SCROLL_OPTIMIZE,r,L))}path(r){return super.path(r).slice(1)}remove(){}update(r){if(this.batch)return void(Array.isArray(r)&&(this.batch=this.batch.concat(r)));let L=h.A.sources.USER;typeof r=="string"&&(L=r),Array.isArray(r)||(r=this.observer.takeRecords()),(r=r.filter((c=>{let{target:p}=c;const w=this.find(p,!0);return w&&!_(w)}))).length>0&&this.emitter.emit(h.A.events.SCROLL_BEFORE_UPDATE,L,r),super.update(r.concat([])),r.length>0&&this.emitter.emit(h.A.events.SCROLL_UPDATE,L,r)}updateEmbedAt(r,L,c){const[p]=this.descendant((w=>w instanceof x.zo),r);p&&p.statics.blotName===L&&_(p)&&p.updateContent(c)}handleDragStart(r){r.preventDefault()}deltaToRenderBlocks(r){const L=[];let c=new(T());return r.forEach((p=>{const w=p?.insert;if(w)if(typeof w=="string"){const q=w.split(`
`);q.slice(0,-1).forEach((s=>{c.insert(s,p.attributes),L.push({type:"block",delta:c,attributes:p.attributes??{}}),c=new(T())}));const g=q[q.length-1];g&&c.insert(g,p.attributes)}else{const q=Object.keys(w)[0];if(!q)return;this.query(q,l.Scope.INLINE)?c.push(p):(c.length()&&L.push({type:"block",delta:c,attributes:{}}),c=new(T()),L.push({type:"blockEmbed",key:q,value:w[q],attributes:p.attributes??{}}))}})),c.length()&&L.push({type:"block",delta:c,attributes:{}}),L}createBlock(r,L){let c;const p={};Object.entries(r).forEach((g=>{let[s,o]=g;this.query(s,l.Scope.BLOCK&l.Scope.BLOT)!=null?c=s:p[s]=o}));const w=this.create(c||this.statics.defaultChild.blotName,c?r[c]:void 0);this.insertBefore(w,L||void 0);const q=w.length();return Object.entries(p).forEach((g=>{let[s,o]=g;w.formatAt(0,q,s,o)})),w}}function z(n,r,L){L.reduce(((c,p)=>{const w=E.Op.length(p);let q=p.attributes||{};if(p.insert!=null){if(typeof p.insert=="string"){const g=p.insert;n.insertAt(c,g);const[s]=n.descendant(l.LeafBlot,c),o=(0,x.Ji)(s);q=E.AttributeMap.diff(o,q)||{}}else if(typeof p.insert=="object"){const g=Object.keys(p.insert)[0];if(g==null)return c;if(n.insertAt(c,g,p.insert[g]),n.scroll.query(g,l.Scope.INLINE)!=null){const[s]=n.descendant(l.LeafBlot,c),o=(0,x.Ji)(s);q=E.AttributeMap.diff(o,q)||{}}}}return Object.keys(q).forEach((g=>{n.formatAt(c,w,g,q[g])})),c+w}),r)}var tt=B,rt=e(5508),W=e(584),m=e(4266);class R extends m.A{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(r,L){super(r,L),this.quill.on(f.Ay.events.EDITOR_CHANGE,((c,p,w,q)=>{c===f.Ay.events.SELECTION_CHANGE?p&&q!==f.Ay.sources.SILENT&&(this.currentRange=p):c===f.Ay.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&q!==f.Ay.sources.USER?this.transform(p):this.record(p,w)),this.currentRange=M(this.currentRange,p))})),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",(c=>{c.inputType==="historyUndo"?(this.undo(),c.preventDefault()):c.inputType==="historyRedo"&&(this.redo(),c.preventDefault())}))}change(r,L){if(this.stack[r].length===0)return;const c=this.stack[r].pop();if(!c)return;const p=this.quill.getContents(),w=c.delta.invert(p);this.stack[L].push({delta:w,range:M(c.range,w)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(c.delta,f.Ay.sources.USER),this.ignoreChange=!1,this.restoreSelection(c)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(r,L){if(r.ops.length===0)return;this.stack.redo=[];let c=r.invert(L),p=this.currentRange;const w=Date.now();if(this.lastRecorded+this.options.delay>w&&this.stack.undo.length>0){const q=this.stack.undo.pop();q&&(c=c.compose(q.delta),p=q.range)}else this.lastRecorded=w;c.length()!==0&&(this.stack.undo.push({delta:c,range:p}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(r){K(this.stack.undo,r),K(this.stack.redo,r)}undo(){this.change("undo","redo")}restoreSelection(r){if(r.range)this.quill.setSelection(r.range,f.Ay.sources.USER);else{const L=(function(c,p){const w=p.reduce(((g,s)=>g+(s.delete||0)),0);let q=p.length()-w;return(function(g,s){const o=s.ops[s.ops.length-1];return o!=null&&(o.insert!=null?typeof o.insert=="string"&&o.insert.endsWith(`
`):o.attributes!=null&&Object.keys(o.attributes).some((d=>g.query(d,l.Scope.BLOCK)!=null)))})(c,p)&&(q-=1),q})(this.quill.scroll,r.delta);this.quill.setSelection(L,f.Ay.sources.USER)}}}function K(n,r){let L=r;for(let c=n.length-1;c>=0;c-=1){const p=n[c];n[c]={delta:L.transform(p.delta,!0),range:p.range&&M(p.range,L)},L=p.delta.transform(L),n[c].delta.length()===0&&n.splice(c,1)}}function M(n,r){if(!n)return n;const L=r.transformPosition(n.index);return{index:L,length:r.transformPosition(n.index+n.length)-L}}var G=e(8123);class it extends m.A{constructor(r,L){super(r,L),r.root.addEventListener("drop",(c=>{c.preventDefault();let p=null;if(document.caretRangeFromPoint)p=document.caretRangeFromPoint(c.clientX,c.clientY);else if(document.caretPositionFromPoint){const q=document.caretPositionFromPoint(c.clientX,c.clientY);p=document.createRange(),p.setStart(q.offsetNode,q.offset),p.setEnd(q.offsetNode,q.offset)}const w=p&&r.selection.normalizeNative(p);if(w){const q=r.selection.normalizedToRange(w);c.dataTransfer?.files&&this.upload(q,c.dataTransfer.files)}}))}upload(r,L){const c=[];Array.from(L).forEach((p=>{p&&this.options.mimetypes?.includes(p.type)&&c.push(p)})),c.length>0&&this.options.handler.call(this,r,c)}}it.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,r){if(!this.quill.scroll.query("image"))return;const L=r.map((c=>new Promise((p=>{const w=new FileReader;w.onload=()=>{p(w.result)},w.readAsDataURL(c)}))));Promise.all(L).then((c=>{const p=c.reduce(((w,q)=>w.insert({image:q})),new(T())().retain(n.index).delete(n.length));this.quill.updateContents(p,h.A.sources.USER),this.quill.setSelection(n.index+c.length,h.A.sources.SILENT)}))}};var nt=it;const ht=["insertText","insertReplacementText"];class pt extends m.A{constructor(r,L){super(r,L),r.root.addEventListener("beforeinput",(c=>{this.handleBeforeInput(c)})),/Android/i.test(navigator.userAgent)||r.on(f.Ay.events.COMPOSITION_BEFORE_START,(()=>{this.handleCompositionStart()}))}deleteRange(r){(0,G.Xo)({range:r,quill:this.quill})}replaceText(r){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(r.length===0)return!1;if(L){const c=this.quill.getFormat(r.index,1);this.deleteRange(r),this.quill.updateContents(new(T())().retain(r.index).insert(L,c),f.Ay.sources.USER)}else this.deleteRange(r);return this.quill.setSelection(r.index+L.length,0,f.Ay.sources.SILENT),!0}handleBeforeInput(r){if(this.quill.composition.isComposing||r.defaultPrevented||!ht.includes(r.inputType))return;const L=r.getTargetRanges?r.getTargetRanges()[0]:null;if(!L||L.collapsed===!0)return;const c=(function(q){return typeof q.data=="string"?q.data:q.dataTransfer?.types.includes("text/plain")?q.dataTransfer.getData("text/plain"):null})(r);if(c==null)return;const p=this.quill.selection.normalizeNative(L),w=p?this.quill.selection.normalizedToRange(p):null;w&&this.replaceText(w,c)&&r.preventDefault()}handleCompositionStart(){const r=this.quill.getSelection();r&&this.replaceText(r)}}var J=pt;const Y=/Mac/i.test(navigator.platform);class ot extends m.A{isListening=!1;selectionChangeDeadline=0;constructor(r,L){super(r,L),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(r,L){let{line:c,event:p}=L;if(!(c instanceof l.ParentBlot&&c.uiNode))return!0;const w=getComputedStyle(c.domNode).direction==="rtl";return!!(w&&p.key!=="ArrowRight"||!w&&p.key!=="ArrowLeft")||(this.quill.setSelection(r.index-1,r.length+(p.shiftKey?1:0),f.Ay.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",(r=>{!r.defaultPrevented&&(L=>L.key==="ArrowLeft"||L.key==="ArrowRight"||L.key==="ArrowUp"||L.key==="ArrowDown"||L.key==="Home"||!(!Y||L.key!=="a"||L.ctrlKey!==!0))(r)&&this.ensureListeningToSelectionChange()}))}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=!0,document.addEventListener("selectionchange",(()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()}),{once:!0}))}handleSelectionChange(){const r=document.getSelection();if(!r)return;const L=r.getRangeAt(0);if(L.collapsed!==!0||L.startOffset!==0)return;const c=this.quill.scroll.find(L.startContainer);if(!(c instanceof l.ParentBlot&&c.uiNode))return;const p=document.createRange();p.setStartAfter(c.uiNode),p.setEndAfter(c.uiNode),r.removeAllRanges(),r.addRange(p)}}var y=ot;f.Ay.register({"blots/block":x.Ay,"blots/block/embed":x.zo,"blots/break":O.A,"blots/container":A.A,"blots/cursor":j.A,"blots/embed":a.A,"blots/inline":k.A,"blots/scroll":tt,"blots/text":rt.A,"modules/clipboard":W.Ay,"modules/history":R,"modules/keyboard":G.Ay,"modules/uploader":nt,"modules/input":J,"modules/uiNode":y});var t=f.Ay},5374:function(Q,C,e){"use strict";e.d(C,{A:function(){return A}});var f=e(8920),x=e(7356);const O=(0,e(6078).A)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((j=>{document.addEventListener(j,(function(){for(var a=arguments.length,k=new Array(a),l=0;l<a;l++)k[l]=arguments[l];Array.from(document.querySelectorAll(".ql-container")).forEach((E=>{const T=x.A.get(E);T&&T.emitter&&T.emitter.handleDOM(...k)}))}))}));var A=class extends f{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",O.error)}emit(){for(var j=arguments.length,a=new Array(j),k=0;k<j;k++)a[k]=arguments[k];return O.log.call(O,...a),super.emit(...a)}handleDOM(j){for(var a=arguments.length,k=new Array(a>1?a-1:0),l=1;l<a;l++)k[l-1]=arguments[l];(this.domListeners[j.type]||[]).forEach((E=>{let{node:T,handler:h}=E;(j.target===T||T.contains(j.target))&&h(j,...k)}))}listenDOM(j,a,k){this.domListeners[j]||(this.domListeners[j]=[]),this.domListeners[j].push({node:a,handler:k})}}},7356:function(Q,C){"use strict";C.A=new WeakMap},6078:function(Q,C){"use strict";const e=["error","warn","log","info"];let f="warn";function x(A){if(f&&e.indexOf(A)<=e.indexOf(f)){for(var j=arguments.length,a=new Array(j>1?j-1:0),k=1;k<j;k++)a[k-1]=arguments[k];console[A](...a)}}function O(A){return e.reduce(((j,a)=>(j[a]=x.bind(console,a,A),j)),{})}O.level=A=>{f=A},x.level=O.level,C.A=O},4266:function(Q,C){"use strict";C.A=class{static DEFAULTS={};constructor(e){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=f}}},6142:function(Q,C,e){"use strict";e.d(C,{Ay:function(){return n}});var f=e(8347),x=e(6003),O=e(5232),A=e.n(O),j=e(3707),a=e(5123),k=e(9698),l=e(3036),E=e(4541),T=e(5508),h=e(8298);const v=/^[ -~]*$/;function _(g,s,o){if(g.length===0){const[mt]=tt(o.pop());return s<=0?`</li></${mt}>`:`</li></${mt}>${_([],s-1,o)}`}const[{child:d,offset:N,length:S,indent:U,type:$},...V]=g,[Z,et]=tt($);if(U>s)return o.push($),U===s+1?`<${Z}><li${et}>${B(d,N,S)}${_(V,U,o)}`:`<${Z}><li>${_(g,s+1,o)}`;const at=o[o.length-1];if(U===s&&$===at)return`</li><li${et}>${B(d,N,S)}${_(V,U,o)}`;const[lt]=tt(o.pop());return`</li></${lt}>${_(g,s-1,o)}`}function B(g,s,o){let d=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if("html"in g&&typeof g.html=="function")return g.html(s,o);if(g instanceof T.A)return(0,T.X)(g.value().slice(s,s+o)).replaceAll(" ","&nbsp;");if(g instanceof x.ParentBlot){if(g.statics.blotName==="list-container"){const Z=[];return g.children.forEachAt(s,o,((et,at,lt)=>{const mt="formats"in et&&typeof et.formats=="function"?et.formats():{};Z.push({child:et,offset:at,length:lt,indent:mt.indent||0,type:mt.list})})),_(Z,-1,[])}const N=[];if(g.children.forEachAt(s,o,((Z,et,at)=>{N.push(B(Z,et,at))})),d||g.statics.blotName==="list")return N.join("");const{outerHTML:S,innerHTML:U}=g.domNode,[$,V]=S.split(`>${U}<`);return $==="<table"?`<table style="border: 1px solid #000;">${N.join("")}<${V}`:`${$}>${N.join("")}<${V}`}return g.domNode instanceof Element?g.domNode.outerHTML:""}function z(g,s){return Object.keys(s).reduce(((o,d)=>{if(g[d]==null)return o;const N=s[d];return N===g[d]?o[d]=N:Array.isArray(N)?N.indexOf(g[d])<0?o[d]=N.concat([g[d]]):o[d]=N:o[d]=[N,g[d]],o}),{})}function tt(g){const s=g==="ordered"?"ol":"ul";switch(g){case"checked":return[s,' data-list="checked"'];case"unchecked":return[s,' data-list="unchecked"'];default:return[s,""]}}function rt(g){return g.reduce(((s,o)=>{if(typeof o.insert=="string"){const d=o.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return s.insert(d,o.attributes)}return s.push(o)}),new(A()))}function W(g,s){let{index:o,length:d}=g;return new h.Q(o+s,d)}var m=class{constructor(g){this.scroll=g,this.delta=this.getDelta()}applyDelta(g){this.scroll.update();let s=this.scroll.length();this.scroll.batchStart();const o=rt(g),d=new(A());return(function(N){const S=[];return N.forEach((U=>{typeof U.insert=="string"?U.insert.split(`
`).forEach((($,V)=>{V&&S.push({insert:`
`,attributes:U.attributes}),$&&S.push({insert:$,attributes:U.attributes})})):S.push(U)})),S})(o.ops.slice()).reduce(((N,S)=>{const U=O.Op.length(S);let $=S.attributes||{},V=!1,Z=!1;if(S.insert!=null){if(d.retain(U),typeof S.insert=="string"){const lt=S.insert;Z=!lt.endsWith(`
`)&&(s<=N||!!this.scroll.descendant(k.zo,N)[0]),this.scroll.insertAt(N,lt);const[mt,dt]=this.scroll.line(N);let ft=(0,f.A)({},(0,k.Ji)(mt));if(mt instanceof k.Ay){const[wt]=mt.descendant(x.LeafBlot,dt);wt&&(ft=(0,f.A)(ft,(0,k.Ji)(wt)))}$=O.AttributeMap.diff(ft,$)||{}}else if(typeof S.insert=="object"){const lt=Object.keys(S.insert)[0];if(lt==null)return N;const mt=this.scroll.query(lt,x.Scope.INLINE)!=null;if(mt)(s<=N||this.scroll.descendant(k.zo,N)[0])&&(Z=!0);else if(N>0){const[dt,ft]=this.scroll.descendant(x.LeafBlot,N-1);dt instanceof T.A?dt.value()[ft]!==`
`&&(V=!0):dt instanceof x.EmbedBlot&&dt.statics.scope===x.Scope.INLINE_BLOT&&(V=!0)}if(this.scroll.insertAt(N,lt,S.insert[lt]),mt){const[dt]=this.scroll.descendant(x.LeafBlot,N);if(dt){const ft=(0,f.A)({},(0,k.Ji)(dt));$=O.AttributeMap.diff(ft,$)||{}}}}s+=U}else if(d.push(S),S.retain!==null&&typeof S.retain=="object"){const lt=Object.keys(S.retain)[0];if(lt==null)return N;this.scroll.updateEmbedAt(N,lt,S.retain[lt])}Object.keys($).forEach((lt=>{this.scroll.formatAt(N,U,lt,$[lt])}));const et=V?1:0,at=Z?1:0;return s+=et+at,d.retain(et),d.delete(at),N+U+et+at}),0),d.reduce(((N,S)=>typeof S.delete=="number"?(this.scroll.deleteAt(N,S.delete),N):N+O.Op.length(S)),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(o)}deleteText(g,s){return this.scroll.deleteAt(g,s),this.update(new(A())().retain(g).delete(s))}formatLine(g,s){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(o).forEach((N=>{this.scroll.lines(g,Math.max(s,1)).forEach((S=>{S.format(N,o[N])}))})),this.scroll.optimize();const d=new(A())().retain(g).retain(s,(0,j.A)(o));return this.update(d)}formatText(g,s){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(o).forEach((N=>{this.scroll.formatAt(g,s,N,o[N])}));const d=new(A())().retain(g).retain(s,(0,j.A)(o));return this.update(d)}getContents(g,s){return this.delta.slice(g,g+s)}getDelta(){return this.scroll.lines().reduce(((g,s)=>g.concat(s.delta())),new(A()))}getFormat(g){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=[],d=[];s===0?this.scroll.path(g).forEach((U=>{const[$]=U;$ instanceof k.Ay?o.push($):$ instanceof x.LeafBlot&&d.push($)})):(o=this.scroll.lines(g,s),d=this.scroll.descendants(x.LeafBlot,g,s));const[N,S]=[o,d].map((U=>{const $=U.shift();if($==null)return{};let V=(0,k.Ji)($);for(;Object.keys(V).length>0;){const Z=U.shift();if(Z==null)return V;V=z((0,k.Ji)(Z),V)}return V}));return{...N,...S}}getHTML(g,s){const[o,d]=this.scroll.line(g);if(o){const N=o.length();return o.length()>=d+s&&(d!==0||s!==N)?B(o,d,s,!0):B(this.scroll,g,s,!0)}return""}getText(g,s){return this.getContents(g,s).filter((o=>typeof o.insert=="string")).map((o=>o.insert)).join("")}insertContents(g,s){const o=rt(s),d=new(A())().retain(g).concat(o);return this.scroll.insertContents(g,o),this.update(d)}insertEmbed(g,s,o){return this.scroll.insertAt(g,s,o),this.update(new(A())().retain(g).insert({[s]:o}))}insertText(g,s){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s=s.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(g,s),Object.keys(o).forEach((d=>{this.scroll.formatAt(g,s.length,d,o[d])})),this.update(new(A())().retain(g).insert(s,(0,j.A)(o)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const g=this.scroll.children.head;if(g?.statics.blotName!==k.Ay.blotName)return!1;const s=g;return!(s.children.length>1)&&s.children.head instanceof l.A}removeFormat(g,s){const o=this.getText(g,s),[d,N]=this.scroll.line(g+s);let S=0,U=new(A());d!=null&&(S=d.length()-N,U=d.delta().slice(N,N+S-1).insert(`
`));const $=this.getContents(g,s+S).diff(new(A())().insert(o).concat(U)),V=new(A())().retain(g).concat($);return this.applyDelta(V)}update(g){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const d=this.delta;if(s.length===1&&s[0].type==="characterData"&&s[0].target.data.match(v)&&this.scroll.find(s[0].target)){const N=this.scroll.find(s[0].target),S=(0,k.Ji)(N),U=N.offset(this.scroll),$=s[0].oldValue.replace(E.A.CONTENTS,""),V=new(A())().insert($),Z=new(A())().insert(N.value()),et=o&&{oldRange:W(o.oldRange,-U),newRange:W(o.newRange,-U)};g=new(A())().retain(U).concat(V.diff(Z,et)).reduce(((at,lt)=>lt.insert?at.insert(lt.insert,S):at.push(lt)),new(A())),this.delta=d.compose(g)}else this.delta=this.getDelta(),g&&(0,a.A)(d.compose(g),this.delta)||(g=d.diff(this.delta,o));return g}},R=e(5374),K=e(7356),M=e(6078),G=e(4266),it=e(746),nt=class{isComposing=!1;constructor(g,s){this.scroll=g,this.emitter=s,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",(g=>{this.isComposing||this.handleCompositionStart(g)})),this.scroll.domNode.addEventListener("compositionend",(g=>{this.isComposing&&queueMicrotask((()=>{this.handleCompositionEnd(g)}))}))}handleCompositionStart(g){const s=g.target instanceof Node?this.scroll.find(g.target,!0):null;!s||s instanceof it.A||(this.emitter.emit(R.A.events.COMPOSITION_BEFORE_START,g),this.scroll.batchStart(),this.emitter.emit(R.A.events.COMPOSITION_START,g),this.isComposing=!0)}handleCompositionEnd(g){this.emitter.emit(R.A.events.COMPOSITION_BEFORE_END,g),this.scroll.batchEnd(),this.emitter.emit(R.A.events.COMPOSITION_END,g),this.isComposing=!1}},ht=e(9609);const pt=g=>{const s=g.getBoundingClientRect(),o="offsetWidth"in g&&Math.abs(s.width)/g.offsetWidth||1,d="offsetHeight"in g&&Math.abs(s.height)/g.offsetHeight||1;return{top:s.top,right:s.left+g.clientWidth*o,bottom:s.top+g.clientHeight*d,left:s.left}},J=g=>{const s=parseInt(g,10);return Number.isNaN(s)?0:s},Y=(g,s,o,d,N,S)=>g<o&&s>d?0:g<o?-(o-g+N):s>d?s-g>d-o?g+N-o:s-d+S:0,ot=["block","break","cursor","inline","scroll","text"],y=(0,M.A)("quill"),t=new x.Registry;x.ParentBlot.uiClass="ql-ui";class n{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:t,theme:"default"};static events=R.A.events;static sources=R.A.sources;static version="2.0.3";static imports={delta:A(),parchment:x,"core/module":G.A,"core/theme":ht.A};static debug(s){s===!0&&(s="log"),M.A.level(s)}static find(s){let o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return K.A.get(s)||t.find(s,o)}static import(s){return this.imports[s]==null&&y.error(`Cannot import ${s}. Are you sure it was registered?`),this.imports[s]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const s=arguments.length<=0?void 0:arguments[0],o=!!(!(arguments.length<=1)&&arguments[1]),d="attrName"in s?s.attrName:s.blotName;typeof d=="string"?this.register(`formats/${d}`,s,o):Object.keys(s).forEach((N=>{this.register(N,s[N],o)}))}else{const s=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],d=!!(!(arguments.length<=2)&&arguments[2]);this.imports[s]==null||d||y.warn(`Overwriting ${s} with`,o),this.imports[s]=o,(s.startsWith("blots/")||s.startsWith("formats/"))&&o&&typeof o!="boolean"&&o.blotName!=="abstract"&&t.register(o),typeof o.register=="function"&&o.register(t)}}constructor(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=(function(U,$){const V=r(U);if(!V)throw new Error("Invalid Quill container");const Z=!$.theme||$.theme===n.DEFAULTS.theme?ht.A:n.import(`themes/${$.theme}`);if(!Z)throw new Error(`Invalid theme ${$.theme}. Did you register it?`);const{modules:et,...at}=n.DEFAULTS,{modules:lt,...mt}=Z.DEFAULTS;let dt=L($.modules);dt!=null&&dt.toolbar&&dt.toolbar.constructor!==Object&&(dt={...dt,toolbar:{container:dt.toolbar}});const ft=(0,f.A)({},L(et),L(lt),dt),wt={...at,...c(mt),...c($)};let Tt=$.registry;return Tt?$.formats&&y.warn('Ignoring "formats" option because "registry" is specified'):Tt=$.formats?((Lt,ut,bt)=>{const xt=new x.Registry;return ot.forEach((St=>{const Nt=ut.query(St);Nt&&xt.register(Nt)})),Lt.forEach((St=>{let Nt=ut.query(St);Nt||bt.error(`Cannot register "${St}" specified in "formats" config. Are you sure it was registered?`);let jt=0;for(;Nt;)if(xt.register(Nt),Nt="blotName"in Nt?Nt.requiredContainer??null:null,jt+=1,jt>100){bt.error(`Cycle detected in registering blot requiredContainer: "${St}"`);break}})),xt})($.formats,wt.registry,y):wt.registry,{...wt,registry:Tt,container:V,theme:Z,modules:Object.entries(ft).reduce(((Lt,ut)=>{let[bt,xt]=ut;if(!xt)return Lt;const St=n.import(`modules/${bt}`);return St==null?(y.error(`Cannot load ${bt} module. Are you sure you registered it?`),Lt):{...Lt,[bt]:(0,f.A)({},St.DEFAULTS||{},xt)}}),{}),bounds:r(wt.bounds)}})(s,o),this.container=this.options.container,this.container==null)return void y.error("Invalid Quill container",s);this.options.debug&&n.debug(this.options.debug);const d=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",K.A.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new R.A;const N=x.ScrollBlot.blotName,S=this.options.registry.query(N);if(!S||!("blotName"in S))throw new Error(`Cannot initialize Quill without "${N}" blot`);if(this.scroll=new S(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new m(this.scroll),this.selection=new h.A(this.scroll,this.emitter),this.composition=new nt(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(R.A.events.EDITOR_CHANGE,(U=>{U===R.A.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())})),this.emitter.on(R.A.events.SCROLL_UPDATE,((U,$)=>{const V=this.selection.lastRange,[Z]=this.selection.getRange(),et=V&&Z?{oldRange:V,newRange:Z}:void 0;p.call(this,(()=>this.editor.update(null,$,et)),U)})),this.emitter.on(R.A.events.SCROLL_EMBED_UPDATE,((U,$)=>{const V=this.selection.lastRange,[Z]=this.selection.getRange(),et=V&&Z?{oldRange:V,newRange:Z}:void 0;p.call(this,(()=>{const at=new(A())().retain(U.offset(this)).retain({[U.statics.blotName]:$});return this.editor.update(at,[],et)}),n.sources.USER)})),d){const U=this.clipboard.convert({html:`${d}<p><br></p>`,text:`
`});this.setContents(U)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof s=="string"){const d=s;(s=document.createElement("div")).classList.add(d)}return this.container.insertBefore(s,o),s}blur(){this.selection.setRange(null)}deleteText(s,o,d){return[s,o,,d]=w(s,o,d),p.call(this,(()=>this.editor.deleteText(s,o)),d,s,-1*o)}disable(){this.enable(!1)}editReadOnly(s){this.allowReadOnlyEdits=!0;const o=s();return this.allowReadOnlyEdits=!1,o}enable(){let s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(s),this.container.classList.toggle("ql-disabled",!s)}focus(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),s.preventScroll||this.scrollSelectionIntoView()}format(s,o){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R.A.sources.API;return p.call(this,(()=>{const N=this.getSelection(!0);let S=new(A());if(N==null)return S;if(this.scroll.query(s,x.Scope.BLOCK))S=this.editor.formatLine(N.index,N.length,{[s]:o});else{if(N.length===0)return this.selection.format(s,o),S;S=this.editor.formatText(N.index,N.length,{[s]:o})}return this.setSelection(N,R.A.sources.SILENT),S}),d)}formatLine(s,o,d,N,S){let U;return[s,o,U,S]=w(s,o,d,N,S),p.call(this,(()=>this.editor.formatLine(s,o,U)),S,s,0)}formatText(s,o,d,N,S){let U;return[s,o,U,S]=w(s,o,d,N,S),p.call(this,(()=>this.editor.formatText(s,o,U)),S,s,0)}getBounds(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d=null;if(d=typeof s=="number"?this.selection.getBounds(s,o):this.selection.getBounds(s.index,s.length),!d)return null;const N=this.container.getBoundingClientRect();return{bottom:d.bottom-N.top,height:d.height,left:d.left-N.left,right:d.right-N.left,top:d.top-N.top,width:d.width}}getContents(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-s;return[s,o]=w(s,o),this.editor.getContents(s,o)}getFormat(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof s=="number"?this.editor.getFormat(s,o):this.editor.getFormat(s.index,s.length)}getIndex(s){return s.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(s){return this.scroll.leaf(s)}getLine(s){return this.scroll.line(s)}getLines(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof s!="number"?this.scroll.lines(s.index,s.length):this.scroll.lines(s,o)}getModule(s){return this.theme.modules[s]}getSelection(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0;return typeof s=="number"&&(o=o??this.getLength()-s),[s,o]=w(s,o),this.editor.getHTML(s,o)}getText(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0;return typeof s=="number"&&(o=o??this.getLength()-s),[s,o]=w(s,o),this.editor.getText(s,o)}hasFocus(){return this.selection.hasFocus()}insertEmbed(s,o,d){let N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n.sources.API;return p.call(this,(()=>this.editor.insertEmbed(s,o,d)),N,s)}insertText(s,o,d,N,S){let U;return[s,,U,S]=w(s,0,d,N,S),p.call(this,(()=>this.editor.insertText(s,o,U)),S,s,o.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(s,o,d){return[s,o,,d]=w(s,o,d),p.call(this,(()=>this.editor.removeFormat(s,o)),d,s)}scrollRectIntoView(s){((o,d)=>{const N=o.ownerDocument;let S=d,U=o;for(;U;){const V=U===N.body,Z=V?{top:0,right:window.visualViewport?.width??N.documentElement.clientWidth,bottom:window.visualViewport?.height??N.documentElement.clientHeight,left:0}:pt(U),et=getComputedStyle(U),at=Y(S.left,S.right,Z.left,Z.right,J(et.scrollPaddingLeft),J(et.scrollPaddingRight)),lt=Y(S.top,S.bottom,Z.top,Z.bottom,J(et.scrollPaddingTop),J(et.scrollPaddingBottom));if(at||lt)if(V)N.defaultView?.scrollBy(at,lt);else{const{scrollLeft:mt,scrollTop:dt}=U;lt&&(U.scrollTop+=lt),at&&(U.scrollLeft+=at);const ft=U.scrollLeft-mt,wt=U.scrollTop-dt;S={left:S.left-ft,top:S.top-wt,right:S.right-ft,bottom:S.bottom-wt}}U=V||et.position==="fixed"?null:($=U).parentElement||$.getRootNode().host||null}var $})(this.root,s)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const s=this.selection.lastRange,o=s&&this.selection.getBounds(s.index,s.length);o&&this.scrollRectIntoView(o)}setContents(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R.A.sources.API;return p.call(this,(()=>{s=new(A())(s);const d=this.getLength(),N=this.editor.deleteText(0,d),S=this.editor.insertContents(0,s),U=this.editor.deleteText(this.getLength()-1,1);return N.compose(S).compose(U)}),o)}setSelection(s,o,d){s==null?this.selection.setRange(null,o||n.sources.API):([s,o,,d]=w(s,o,d),this.selection.setRange(new h.Q(Math.max(0,s),o),d),d!==R.A.sources.SILENT&&this.scrollSelectionIntoView())}setText(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R.A.sources.API;const d=new(A())().insert(s);return this.setContents(d,o)}update(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R.A.sources.USER;const o=this.scroll.update(s);return this.selection.update(s),o}updateContents(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R.A.sources.API;return p.call(this,(()=>(s=new(A())(s),this.editor.applyDelta(s))),o,!0)}}function r(g){return typeof g=="string"?document.querySelector(g):g}function L(g){return Object.entries(g??{}).reduce(((s,o)=>{let[d,N]=o;return{...s,[d]:N===!0?{}:N}}),{})}function c(g){return Object.fromEntries(Object.entries(g).filter((s=>s[1]!==void 0)))}function p(g,s,o,d){if(!this.isEnabled()&&s===R.A.sources.USER&&!this.allowReadOnlyEdits)return new(A());let N=o==null?null:this.getSelection();const S=this.editor.delta,U=g();if(N!=null&&(o===!0&&(o=N.index),d==null?N=q(N,U,s):d!==0&&(N=q(N,o,d,s)),this.setSelection(N,R.A.sources.SILENT)),U.length()>0){const $=[R.A.events.TEXT_CHANGE,U,S,s];this.emitter.emit(R.A.events.EDITOR_CHANGE,...$),s!==R.A.sources.SILENT&&this.emitter.emit(...$)}return U}function w(g,s,o,d,N){let S={};return typeof g.index=="number"&&typeof g.length=="number"?typeof s!="number"?(N=d,d=o,o=s,s=g.length,g=g.index):(s=g.length,g=g.index):typeof s!="number"&&(N=d,d=o,o=s,s=0),typeof o=="object"?(S=o,N=d):typeof o=="string"&&(d!=null?S[o]=d:N=o),[g,s,S,N=N||R.A.sources.API]}function q(g,s,o,d){const N=typeof o=="number"?o:0;if(g==null)return null;let S,U;return s&&typeof s.transformPosition=="function"?[S,U]=[g.index,g.index+g.length].map(($=>s.transformPosition($,d!==R.A.sources.USER))):[S,U]=[g.index,g.index+g.length].map(($=>$<s||$===s&&d===R.A.sources.USER?$:N>=0?$+N:Math.max(s,$+N))),new h.Q(S,U-S)}},8298:function(Q,C,e){"use strict";e.d(C,{Q:function(){return a}});var f=e(6003),x=e(5123),O=e(3707),A=e(5374);const j=(0,e(6078).A)("quill:selection");class a{constructor(E){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=E,this.length=T}}function k(l,E){try{E.parentNode}catch{return!1}return l.contains(E)}C.A=class{constructor(l,E){this.emitter=E,this.scroll=l,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new a(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,A.A.sources.USER),1)})),this.emitter.on(A.A.events.SCROLL_BEFORE_UPDATE,(()=>{if(!this.hasFocus())return;const T=this.getNativeRange();T!=null&&T.start.node!==this.cursor.textNode&&this.emitter.once(A.A.events.SCROLL_UPDATE,((h,v)=>{try{this.root.contains(T.start.node)&&this.root.contains(T.end.node)&&this.setNativeRange(T.start.node,T.start.offset,T.end.node,T.end.offset);const _=v.some((B=>B.type==="characterData"||B.type==="childList"||B.type==="attributes"&&B.target===this.root));this.update(_?A.A.sources.SILENT:h)}catch{}}))})),this.emitter.on(A.A.events.SCROLL_OPTIMIZE,((T,h)=>{if(h.range){const{startNode:v,startOffset:_,endNode:B,endOffset:z}=h.range;this.setNativeRange(v,_,B,z),this.update(A.A.sources.SILENT)}})),this.update(A.A.sources.SILENT)}handleComposition(){this.emitter.on(A.A.events.COMPOSITION_BEFORE_START,(()=>{this.composing=!0})),this.emitter.on(A.A.events.COMPOSITION_END,(()=>{if(this.composing=!1,this.cursor.parent){const l=this.cursor.restore();if(!l)return;setTimeout((()=>{this.setNativeRange(l.startNode,l.startOffset,l.endNode,l.endOffset)}),1)}}))}handleDragging(){this.emitter.listenDOM("mousedown",document.body,(()=>{this.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(()=>{this.mouseDown=!1,this.update(A.A.sources.USER)}))}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(l,E){this.scroll.update();const T=this.getNativeRange();if(T!=null&&T.native.collapsed&&!this.scroll.query(l,f.Scope.BLOCK)){if(T.start.node!==this.cursor.textNode){const h=this.scroll.find(T.start.node,!1);if(h==null)return;if(h instanceof f.LeafBlot){const v=h.split(T.start.offset);h.parent.insertBefore(this.cursor,v)}else h.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(l,E),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(l){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const T=this.scroll.length();let h;l=Math.min(l,T-1),E=Math.min(l+E,T-1)-l;let[v,_]=this.scroll.leaf(l);if(v==null)return null;if(E>0&&_===v.length()){const[rt]=this.scroll.leaf(l+1);if(rt){const[W]=this.scroll.line(l),[m]=this.scroll.line(l+1);W===m&&(v=rt,_=0)}}[h,_]=v.position(_,!0);const B=document.createRange();if(E>0)return B.setStart(h,_),[v,_]=this.scroll.leaf(l+E),v==null?null:([h,_]=v.position(_,!0),B.setEnd(h,_),B.getBoundingClientRect());let z,tt="left";if(h instanceof Text){if(!h.data.length)return null;_<h.data.length?(B.setStart(h,_),B.setEnd(h,_+1)):(B.setStart(h,_-1),B.setEnd(h,_),tt="right"),z=B.getBoundingClientRect()}else{if(!(v.domNode instanceof Element))return null;z=v.domNode.getBoundingClientRect(),_>0&&(tt="right")}return{bottom:z.top+z.height,height:z.height,left:z[tt],right:z[tt],top:z.top,width:0}}getNativeRange(){const l=document.getSelection();if(l==null||l.rangeCount<=0)return null;const E=l.getRangeAt(0);if(E==null)return null;const T=this.normalizeNative(E);return j.info("getNativeRange",T),T}getRange(){const l=this.scroll.domNode;if("isConnected"in l&&!l.isConnected)return[null,null];const E=this.getNativeRange();return E==null?[null,null]:[this.normalizedToRange(E),E]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&k(this.root,document.activeElement)}normalizedToRange(l){const E=[[l.start.node,l.start.offset]];l.native.collapsed||E.push([l.end.node,l.end.offset]);const T=E.map((_=>{const[B,z]=_,tt=this.scroll.find(B,!0),rt=tt.offset(this.scroll);return z===0?rt:tt instanceof f.LeafBlot?rt+tt.index(B,z):rt+tt.length()})),h=Math.min(Math.max(...T),this.scroll.length()-1),v=Math.min(h,...T);return new a(v,h-v)}normalizeNative(l){if(!k(this.root,l.startContainer)||!l.collapsed&&!k(this.root,l.endContainer))return null;const E={start:{node:l.startContainer,offset:l.startOffset},end:{node:l.endContainer,offset:l.endOffset},native:l};return[E.start,E.end].forEach((T=>{let{node:h,offset:v}=T;for(;!(h instanceof Text)&&h.childNodes.length>0;)if(h.childNodes.length>v)h=h.childNodes[v],v=0;else{if(h.childNodes.length!==v)break;h=h.lastChild,v=h instanceof Text?h.data.length:h.childNodes.length>0?h.childNodes.length:h.childNodes.length+1}T.node=h,T.offset=v})),E}rangeToNative(l){const E=this.scroll.length(),T=(h,v)=>{h=Math.min(E-1,h);const[_,B]=this.scroll.leaf(h);return _?_.position(B,v):[null,-1]};return[...T(l.index,!1),...T(l.index+l.length,!0)]}setNativeRange(l,E){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l,h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:E,v=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(j.info("setNativeRange",l,E,T,h),l!=null&&(this.root.parentNode==null||l.parentNode==null||T.parentNode==null))return;const _=document.getSelection();if(_!=null)if(l!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:B}=this.getNativeRange()||{};if(B==null||v||l!==B.startContainer||E!==B.startOffset||T!==B.endContainer||h!==B.endOffset){l instanceof Element&&l.tagName==="BR"&&(E=Array.from(l.parentNode.childNodes).indexOf(l),l=l.parentNode),T instanceof Element&&T.tagName==="BR"&&(h=Array.from(T.parentNode.childNodes).indexOf(T),T=T.parentNode);const z=document.createRange();z.setStart(l,E),z.setEnd(T,h),_.removeAllRanges(),_.addRange(z)}}else _.removeAllRanges(),this.root.blur()}setRange(l){let E=arguments.length>1&&arguments[1]!==void 0&&arguments[1],T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A.A.sources.API;if(typeof E=="string"&&(T=E,E=!1),j.info("setRange",l),l!=null){const h=this.rangeToNative(l);this.setNativeRange(...h,E)}else this.setNativeRange(null);this.update(T)}update(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.A.sources.USER;const E=this.lastRange,[T,h]=this.getRange();if(this.lastRange=T,this.lastNative=h,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,x.A)(E,this.lastRange)){if(!this.composing&&h!=null&&h.native.collapsed&&h.start.node!==this.cursor.textNode){const _=this.cursor.restore();_&&this.setNativeRange(_.startNode,_.startOffset,_.endNode,_.endOffset)}const v=[A.A.events.SELECTION_CHANGE,(0,O.A)(this.lastRange),(0,O.A)(E),l];this.emitter.emit(A.A.events.EDITOR_CHANGE,...v),l!==A.A.sources.SILENT&&this.emitter.emit(...v)}}}},9609:function(Q,C){"use strict";class e{static DEFAULTS={modules:{}};static themes={default:e};modules={};constructor(x,O){this.quill=x,this.options=O}init(){Object.keys(this.options.modules).forEach((x=>{this.modules[x]==null&&this.addModule(x)}))}addModule(x){const O=this.quill.constructor.import(`modules/${x}`);return this.modules[x]=new O(this.quill,this.options.modules[x]||{}),this.modules[x]}}C.A=e},8276:function(Q,C,e){"use strict";e.d(C,{Hu:function(){return j},gS:function(){return O},qh:function(){return A}});var f=e(6003);const x={scope:f.Scope.BLOCK,whitelist:["right","center","justify"]},O=new f.Attributor("align","align",x),A=new f.ClassAttributor("align","ql-align",x),j=new f.StyleAttributor("align","text-align",x)},9541:function(Q,C,e){"use strict";e.d(C,{l:function(){return O},s:function(){return A}});var f=e(6003),x=e(8638);const O=new f.ClassAttributor("background","ql-bg",{scope:f.Scope.INLINE}),A=new x.a2("background","background-color",{scope:f.Scope.INLINE})},9404:function(Q,C,e){"use strict";e.d(C,{Ay:function(){return E},Cy:function(){return T},EJ:function(){return l}});var f=e(9698),x=e(3036),O=e(4541),A=e(4850),j=e(5508),a=e(580),k=e(6142);class l extends a.A{static create(v){const _=super.create(v);return _.setAttribute("spellcheck","false"),_}code(v,_){return this.children.map((B=>B.length()<=1?"":B.domNode.innerText)).join(`
`).slice(v,v+_)}html(v,_){return`<pre>
${(0,j.X)(this.code(v,_))}
</pre>`}}class E extends f.Ay{static TAB="  ";static register(){k.Ay.register(l)}}class T extends A.A{}T.blotName="code",T.tagName="CODE",E.blotName="code-block",E.className="ql-code-block",E.tagName="DIV",l.blotName="code-block-container",l.className="ql-code-block-container",l.tagName="DIV",l.allowedChildren=[E],E.allowedChildren=[j.A,x.A,O.A],E.requiredContainer=l},8638:function(Q,C,e){"use strict";e.d(C,{JM:function(){return A},a2:function(){return x},g3:function(){return O}});var f=e(6003);class x extends f.StyleAttributor{value(a){let k=super.value(a);return k.startsWith("rgb(")?(k=k.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${k.split(",").map((l=>`00${parseInt(l,10).toString(16)}`.slice(-2))).join("")}`):k}}const O=new f.ClassAttributor("color","ql-color",{scope:f.Scope.INLINE}),A=new x("color","color",{scope:f.Scope.INLINE})},7912:function(Q,C,e){"use strict";e.d(C,{Mc:function(){return O},VL:function(){return j},sY:function(){return A}});var f=e(6003);const x={scope:f.Scope.BLOCK,whitelist:["rtl"]},O=new f.Attributor("direction","dir",x),A=new f.ClassAttributor("direction","ql-direction",x),j=new f.StyleAttributor("direction","direction",x)},6772:function(Q,C,e){"use strict";e.d(C,{q:function(){return O},z:function(){return j}});var f=e(6003);const x={scope:f.Scope.INLINE,whitelist:["serif","monospace"]},O=new f.ClassAttributor("font","ql-font",x);class A extends f.StyleAttributor{value(k){return super.value(k).replace(/["']/g,"")}}const j=new A("font","font-family",x)},664:function(Q,C,e){"use strict";e.d(C,{U:function(){return x},r:function(){return O}});var f=e(6003);const x=new f.ClassAttributor("size","ql-size",{scope:f.Scope.INLINE,whitelist:["small","large","huge"]}),O=new f.StyleAttributor("size","font-size",{scope:f.Scope.INLINE,whitelist:["10px","18px","32px"]})},584:function(Q,C,e){"use strict";e.d(C,{Ay:function(){return pt},hV:function(){return n}});var f=e(6003),x=e(5232),O=e.n(x),A=e(9698),j=e(6078),a=e(4266),k=e(6142),l=e(8276),E=e(9541),T=e(9404),h=e(8638),v=e(7912),_=e(6772),B=e(664),z=e(8123);const tt=/font-weight:\s*normal/,rt=["P","OL","UL"],W=c=>c&&rt.includes(c.tagName),m=/\bmso-list:[^;]*ignore/i,R=/\bmso-list:[^;]*\bl(\d+)/i,K=/\bmso-list:[^;]*\blevel(\d+)/i,M=[function(c){c.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&(p=>{const w=Array.from(p.querySelectorAll("[style*=mso-list]")),q=[],g=[];w.forEach((d=>{(d.getAttribute("style")||"").match(m)?q.push(d):g.push(d)})),q.forEach((d=>d.parentNode?.removeChild(d)));const s=p.documentElement.innerHTML,o=g.map((d=>((N,S)=>{const U=N.getAttribute("style"),$=U?.match(R);if(!$)return null;const V=Number($[1]),Z=U?.match(K),et=Z?Number(Z[1]):1,at=new RegExp(`@list l${V}:level${et}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),lt=S.match(at);return{id:V,indent:et,type:lt&&lt[1]==="bullet"?"bullet":"ordered",element:N}})(d,s))).filter((d=>d));for(;o.length;){const d=[];let N=o.shift();for(;N;)d.push(N),N=o.length&&o[0]?.element===N.element.nextElementSibling&&o[0].id===N.id?o.shift():null;const S=document.createElement("ul");d.forEach((V=>{const Z=document.createElement("li");Z.setAttribute("data-list",V.type),V.indent>1&&Z.setAttribute("class","ql-indent-"+(V.indent-1)),Z.innerHTML=V.element.innerHTML,S.appendChild(Z)}));const U=d[0]?.element,{parentNode:$}=U??{};U&&$?.replaceChild(S,U),d.slice(1).forEach((V=>{let{element:Z}=V;$?.removeChild(Z)}))}})(c)},function(c){c.querySelector('[id^="docs-internal-guid-"]')&&((p=>{Array.from(p.querySelectorAll('b[style*="font-weight"]')).filter((w=>w.getAttribute("style")?.match(tt))).forEach((w=>{const q=p.createDocumentFragment();q.append(...w.childNodes),w.parentNode?.replaceChild(q,w)}))})(c),(p=>{Array.from(p.querySelectorAll("br")).filter((w=>W(w.previousElementSibling)&&W(w.nextElementSibling))).forEach((w=>{w.parentNode?.removeChild(w)}))})(c))}],G=(0,j.A)("quill:clipboard"),it=[[Node.TEXT_NODE,function(c,p,w){let q=c.data;if(c.parentElement?.tagName==="O:P")return p.insert(q.trim());if(!t(c)){if(q.trim().length===0&&q.includes(`
`)&&!(function(g,s){return g.previousElementSibling&&g.nextElementSibling&&!ot(g.previousElementSibling,s)&&!ot(g.nextElementSibling,s)})(c,w))return p;q=q.replace(/[^\S\u00a0]/g," "),q=q.replace(/ {2,}/g," "),(c.previousSibling==null&&c.parentElement!=null&&ot(c.parentElement,w)||c.previousSibling instanceof Element&&ot(c.previousSibling,w))&&(q=q.replace(/^ /,"")),(c.nextSibling==null&&c.parentElement!=null&&ot(c.parentElement,w)||c.nextSibling instanceof Element&&ot(c.nextSibling,w))&&(q=q.replace(/ $/,"")),q=q.replaceAll("\xA0"," ")}return p.insert(q)}],[Node.TEXT_NODE,L],["br",function(c,p){return Y(p,`
`)||p.insert(`
`),p}],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,function(c,p,w){const q=w.query(c);if(q==null)return p;if(q.prototype instanceof f.EmbedBlot){const g={},s=q.value(c);if(s!=null)return g[q.blotName]=s,new(O())().insert(g,q.formats(c,w))}else if(q.prototype instanceof f.BlockBlot&&!Y(p,`
`)&&p.insert(`
`),"blotName"in q&&"formats"in q&&typeof q.formats=="function")return J(p,q.blotName,q.formats(c,w),w);return p}],[Node.ELEMENT_NODE,function(c,p,w){const q=f.Attributor.keys(c),g=f.ClassAttributor.keys(c),s=f.StyleAttributor.keys(c),o={};return q.concat(g).concat(s).forEach((d=>{let N=w.query(d,f.Scope.ATTRIBUTE);N!=null&&(o[N.attrName]=N.value(c),o[N.attrName])||(N=nt[d],N==null||N.attrName!==d&&N.keyName!==d||(o[N.attrName]=N.value(c)||void 0),N=ht[d],N==null||N.attrName!==d&&N.keyName!==d||(N=ht[d],o[N.attrName]=N.value(c)||void 0))})),Object.entries(o).reduce(((d,N)=>{let[S,U]=N;return J(d,S,U,w)}),p)}],[Node.ELEMENT_NODE,function(c,p,w){const q={},g=c.style||{};return g.fontStyle==="italic"&&(q.italic=!0),g.textDecoration==="underline"&&(q.underline=!0),g.textDecoration==="line-through"&&(q.strike=!0),(g.fontWeight?.startsWith("bold")||parseInt(g.fontWeight,10)>=700)&&(q.bold=!0),p=Object.entries(q).reduce(((s,o)=>{let[d,N]=o;return J(s,d,N,w)}),p),parseFloat(g.textIndent||0)>0?new(O())().insert("	").concat(p):p}],["li",function(c,p,w){const q=w.query(c);if(q==null||q.blotName!=="list"||!Y(p,`
`))return p;let g=-1,s=c.parentNode;for(;s!=null;)["OL","UL"].includes(s.tagName)&&(g+=1),s=s.parentNode;return g<=0?p:p.reduce(((o,d)=>d.insert?d.attributes&&typeof d.attributes.indent=="number"?o.push(d):o.insert(d.insert,{indent:g,...d.attributes||{}}):o),new(O()))}],["ol, ul",function(c,p,w){const q=c;let g=q.tagName==="OL"?"ordered":"bullet";const s=q.getAttribute("data-checked");return s&&(g=s==="true"?"checked":"unchecked"),J(p,"list",g,w)}],["pre",function(c,p,w){const q=w.query("code-block");return J(p,"code-block",!q||!("formats"in q)||typeof q.formats!="function"||q.formats(c,w),w)}],["tr",function(c,p,w){const q=c.parentElement?.tagName==="TABLE"?c.parentElement:c.parentElement?.parentElement;return q!=null?J(p,"table",Array.from(q.querySelectorAll("tr")).indexOf(c)+1,w):p}],["b",r("bold")],["i",r("italic")],["strike",r("strike")],["style",function(){return new(O())}]],nt=[l.gS,v.Mc].reduce(((c,p)=>(c[p.keyName]=p,c)),{}),ht=[l.Hu,E.s,h.JM,v.VL,_.z,B.r].reduce(((c,p)=>(c[p.keyName]=p,c)),{});class pt extends a.A{static DEFAULTS={matchers:[]};constructor(p,w){super(p,w),this.quill.root.addEventListener("copy",(q=>this.onCaptureCopy(q,!1))),this.quill.root.addEventListener("cut",(q=>this.onCaptureCopy(q,!0))),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],it.concat(this.options.matchers??[]).forEach((q=>{let[g,s]=q;this.addMatcher(g,s)}))}addMatcher(p,w){this.matchers.push([p,w])}convert(p){let{html:w,text:q}=p,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(g[T.Ay.blotName])return new(O())().insert(q||"",{[T.Ay.blotName]:g[T.Ay.blotName]});if(!w)return new(O())().insert(q||"",g);const s=this.convertHTML(w);return Y(s,`
`)&&(s.ops[s.ops.length-1].attributes==null||g.table)?s.compose(new(O())().retain(s.length()-1).delete(1)):s}normalizeHTML(p){(w=>{w.documentElement&&M.forEach((q=>{q(w)}))})(p)}convertHTML(p){const w=new DOMParser().parseFromString(p,"text/html");this.normalizeHTML(w);const q=w.body,g=new WeakMap,[s,o]=this.prepareMatching(q,g);return n(this.quill.scroll,q,s,o,g)}dangerouslyPasteHTML(p,w){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k.Ay.sources.API;if(typeof p=="string"){const g=this.convert({html:p,text:""});this.quill.setContents(g,w),this.quill.setSelection(0,k.Ay.sources.SILENT)}else{const g=this.convert({html:w,text:""});this.quill.updateContents(new(O())().retain(p).concat(g),q),this.quill.setSelection(p+g.length(),k.Ay.sources.SILENT)}}onCaptureCopy(p){let w=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(p.defaultPrevented)return;p.preventDefault();const[q]=this.quill.selection.getRange();if(q==null)return;const{html:g,text:s}=this.onCopy(q,w);p.clipboardData?.setData("text/plain",s),p.clipboardData?.setData("text/html",g),w&&(0,z.Xo)({range:q,quill:this.quill})}normalizeURIList(p){return p.split(/\r?\n/).filter((w=>w[0]!=="#")).join(`
`)}onCapturePaste(p){if(p.defaultPrevented||!this.quill.isEnabled())return;p.preventDefault();const w=this.quill.getSelection(!0);if(w==null)return;const q=p.clipboardData?.getData("text/html");let g=p.clipboardData?.getData("text/plain");if(!q&&!g){const o=p.clipboardData?.getData("text/uri-list");o&&(g=this.normalizeURIList(o))}const s=Array.from(p.clipboardData?.files||[]);if(!q&&s.length>0)this.quill.uploader.upload(w,s);else{if(q&&s.length>0){const o=new DOMParser().parseFromString(q,"text/html");if(o.body.childElementCount===1&&o.body.firstElementChild?.tagName==="IMG")return void this.quill.uploader.upload(w,s)}this.onPaste(w,{html:q,text:g})}}onCopy(p){const w=this.quill.getText(p);return{html:this.quill.getSemanticHTML(p),text:w}}onPaste(p,w){let{text:q,html:g}=w;const s=this.quill.getFormat(p.index),o=this.convert({text:q,html:g},s);G.log("onPaste",o,{text:q,html:g});const d=new(O())().retain(p.index).delete(p.length).concat(o);this.quill.updateContents(d,k.Ay.sources.USER),this.quill.setSelection(d.length()-p.length,k.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(p,w){const q=[],g=[];return this.matchers.forEach((s=>{const[o,d]=s;switch(o){case Node.TEXT_NODE:g.push(d);break;case Node.ELEMENT_NODE:q.push(d);break;default:Array.from(p.querySelectorAll(o)).forEach((N=>{w.has(N)?w.get(N)?.push(d):w.set(N,[d])}))}})),[q,g]}}function J(c,p,w,q){return q.query(p)?c.reduce(((g,s)=>{if(!s.insert)return g;if(s.attributes&&s.attributes[p])return g.push(s);const o=w?{[p]:w}:{};return g.insert(s.insert,{...o,...s.attributes})}),new(O())):c}function Y(c,p){let w="";for(let q=c.ops.length-1;q>=0&&w.length<p.length;--q){const g=c.ops[q];if(typeof g.insert!="string")break;w=g.insert+w}return w.slice(-1*p.length)===p}function ot(c,p){if(!(c instanceof Element))return!1;const w=p.query(c);return!(w&&w.prototype instanceof f.EmbedBlot)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(c.tagName.toLowerCase())}const y=new WeakMap;function t(c){return c!=null&&(y.has(c)||(c.tagName==="PRE"?y.set(c,!0):y.set(c,t(c.parentNode))),y.get(c))}function n(c,p,w,q,g){return p.nodeType===p.TEXT_NODE?q.reduce(((s,o)=>o(p,s,c)),new(O())):p.nodeType===p.ELEMENT_NODE?Array.from(p.childNodes||[]).reduce(((s,o)=>{let d=n(c,o,w,q,g);return o.nodeType===p.ELEMENT_NODE&&(d=w.reduce(((N,S)=>S(o,N,c)),d),d=(g.get(o)||[]).reduce(((N,S)=>S(o,N,c)),d)),s.concat(d)}),new(O())):new(O())}function r(c){return(p,w,q)=>J(w,c,!0,q)}function L(c,p,w){if(!Y(p,`
`)){if(ot(c,w)&&(c.childNodes.length>0||c instanceof HTMLParagraphElement))return p.insert(`
`);if(p.length()>0&&c.nextSibling){let q=c.nextSibling;for(;q!=null;){if(ot(q,w))return p.insert(`
`);const g=w.query(q);if(g&&g.prototype instanceof A.zo)return p.insert(`
`);q=q.firstChild}}}return p}},8123:function(Q,C,e){"use strict";e.d(C,{Ay:function(){return h},Xo:function(){return rt}});var f=e(5123),x=e(3707),O=e(5232),A=e.n(O),j=e(6003),a=e(6142),k=e(6078),l=e(4266);const E=(0,k.A)("quill:keyboard"),T=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class h extends l.A{static match(m,R){return!["altKey","ctrlKey","metaKey","shiftKey"].some((K=>!!R[K]!==m[K]&&R[K]!==null))&&(R.key===m.key||R.key===m.which)}constructor(m,R){super(m,R),this.bindings={},Object.keys(this.options.bindings).forEach((K=>{this.options.bindings[K]&&this.addBinding(this.options.bindings[K])})),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},(()=>{})),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(m){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const M=(function(G){if(typeof G=="string"||typeof G=="number")G={key:G};else{if(typeof G!="object")return null;G=(0,x.A)(G)}return G.shortKey&&(G[T]=G.shortKey,delete G.shortKey),G})(m);M!=null?(typeof R=="function"&&(R={handler:R}),typeof K=="function"&&(K={handler:K}),(Array.isArray(M.key)?M.key:[M.key]).forEach((G=>{const it={...M,key:G,...R,...K};this.bindings[it.key]=this.bindings[it.key]||[],this.bindings[it.key].push(it)}))):E.warn("Attempted to add invalid keyboard binding",M)}listen(){this.quill.root.addEventListener("keydown",(m=>{if(m.defaultPrevented||m.isComposing||m.keyCode===229&&(m.key==="Enter"||m.key==="Backspace"))return;const R=(this.bindings[m.key]||[]).concat(this.bindings[m.which]||[]).filter((t=>h.match(m,t)));if(R.length===0)return;const K=a.Ay.find(m.target,!0);if(K&&K.scroll!==this.quill.scroll)return;const M=this.quill.getSelection();if(M==null||!this.quill.hasFocus())return;const[G,it]=this.quill.getLine(M.index),[nt,ht]=this.quill.getLeaf(M.index),[pt,J]=M.length===0?[nt,ht]:this.quill.getLeaf(M.index+M.length),Y=nt instanceof j.TextBlot?nt.value().slice(0,ht):"",ot=pt instanceof j.TextBlot?pt.value().slice(J):"",y={collapsed:M.length===0,empty:M.length===0&&G.length()<=1,format:this.quill.getFormat(M),line:G,offset:it,prefix:Y,suffix:ot,event:m};R.some((t=>{if(t.collapsed!=null&&t.collapsed!==y.collapsed||t.empty!=null&&t.empty!==y.empty||t.offset!=null&&t.offset!==y.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((n=>y.format[n]==null)))return!1}else if(typeof t.format=="object"&&!Object.keys(t.format).every((n=>t.format[n]===!0?y.format[n]!=null:t.format[n]===!1?y.format[n]==null:(0,f.A)(t.format[n],y.format[n]))))return!1;return!(t.prefix!=null&&!t.prefix.test(y.prefix)||t.suffix!=null&&!t.suffix.test(y.suffix)||t.handler.call(this,M,y,t)===!0)}))&&m.preventDefault()}))}handleBackspace(m,R){const K=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(R.prefix)?2:1;if(m.index===0||this.quill.getLength()<=1)return;let M={};const[G]=this.quill.getLine(m.index);let it=new(A())().retain(m.index-K).delete(K);if(R.offset===0){const[nt]=this.quill.getLine(m.index-1);if(nt&&!(nt.statics.blotName==="block"&&nt.length()<=1)){const ht=G.formats(),pt=this.quill.getFormat(m.index-1,1);if(M=O.AttributeMap.diff(ht,pt)||{},Object.keys(M).length>0){const J=new(A())().retain(m.index+G.length()-2).retain(1,M);it=it.compose(J)}}}this.quill.updateContents(it,a.Ay.sources.USER),this.quill.focus()}handleDelete(m,R){const K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(R.suffix)?2:1;if(m.index>=this.quill.getLength()-K)return;let M={};const[G]=this.quill.getLine(m.index);let it=new(A())().retain(m.index).delete(K);if(R.offset>=G.length()-1){const[nt]=this.quill.getLine(m.index+1);if(nt){const ht=G.formats(),pt=this.quill.getFormat(m.index,1);M=O.AttributeMap.diff(ht,pt)||{},Object.keys(M).length>0&&(it=it.retain(nt.length()-1).retain(1,M))}}this.quill.updateContents(it,a.Ay.sources.USER),this.quill.focus()}handleDeleteRange(m){rt({range:m,quill:this.quill}),this.quill.focus()}handleEnter(m,R){const K=Object.keys(R.format).reduce(((G,it)=>(this.quill.scroll.query(it,j.Scope.BLOCK)&&!Array.isArray(R.format[it])&&(G[it]=R.format[it]),G)),{}),M=new(A())().retain(m.index).delete(m.length).insert(`
`,K);this.quill.updateContents(M,a.Ay.sources.USER),this.quill.setSelection(m.index+1,a.Ay.sources.SILENT),this.quill.focus()}}const v={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(W,m){return!(!m.collapsed||m.offset===0)||(this.quill.format("indent","+1",a.Ay.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(W,m){return!(!m.collapsed||m.offset===0)||(this.quill.format("indent","-1",a.Ay.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(W,m){m.format.indent!=null?this.quill.format("indent","-1",a.Ay.sources.USER):m.format.list!=null&&this.quill.format("list",!1,a.Ay.sources.USER)}},"indent code-block":_(!0),"outdent code-block":_(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(W){this.quill.deleteText(W.index-1,1,a.Ay.sources.USER)}},tab:{key:"Tab",handler(W,m){if(m.format.table)return!0;this.quill.history.cutoff();const R=new(A())().retain(W.index).delete(W.length).insert("	");return this.quill.updateContents(R,a.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(W.index+1,a.Ay.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,a.Ay.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(W,m){const R={list:!1};m.format.indent&&(R.indent=!1),this.quill.formatLine(W.index,W.length,R,a.Ay.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(W){const[m,R]=this.quill.getLine(W.index),K={...m.formats(),list:"checked"},M=new(A())().retain(W.index).insert(`
`,K).retain(m.length()-R-1).retain(1,{list:"unchecked"});this.quill.updateContents(M,a.Ay.sources.USER),this.quill.setSelection(W.index+1,a.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(W,m){const[R,K]=this.quill.getLine(W.index),M=new(A())().retain(W.index).insert(`
`,m.format).retain(R.length()-K-1).retain(1,{header:null});this.quill.updateContents(M,a.Ay.sources.USER),this.quill.setSelection(W.index+1,a.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(W){const m=this.quill.getModule("table");if(m){const[R,K,M,G]=m.getTable(W),it=(function(ht,pt,J,Y){return pt.prev==null&&pt.next==null?J.prev==null&&J.next==null?Y===0?-1:1:J.prev==null?-1:1:pt.prev==null?-1:pt.next==null?1:null})(0,K,M,G);if(it==null)return;let nt=R.offset();if(it<0){const ht=new(A())().retain(nt).insert(`
`);this.quill.updateContents(ht,a.Ay.sources.USER),this.quill.setSelection(W.index+1,W.length,a.Ay.sources.SILENT)}else if(it>0){nt+=R.length();const ht=new(A())().retain(nt).insert(`
`);this.quill.updateContents(ht,a.Ay.sources.USER),this.quill.setSelection(nt,a.Ay.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(W,m){const{event:R,line:K}=m,M=K.offset(this.quill.scroll);R.shiftKey?this.quill.setSelection(M-1,a.Ay.sources.USER):this.quill.setSelection(M+K.length(),a.Ay.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(W,m){if(this.quill.scroll.query("list")==null)return!0;const{length:R}=m.prefix,[K,M]=this.quill.getLine(W.index);if(M>R)return!0;let G;switch(m.prefix.trim()){case"[]":case"[ ]":G="unchecked";break;case"[x]":G="checked";break;case"-":case"*":G="bullet";break;default:G="ordered"}this.quill.insertText(W.index," ",a.Ay.sources.USER),this.quill.history.cutoff();const it=new(A())().retain(W.index-M).delete(R+1).retain(K.length()-2-M).retain(1,{list:G});return this.quill.updateContents(it,a.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(W.index-R,a.Ay.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(W){const[m,R]=this.quill.getLine(W.index);let K=2,M=m;for(;M!=null&&M.length()<=1&&M.formats()["code-block"];)if(M=M.prev,K-=1,K<=0){const G=new(A())().retain(W.index+m.length()-R-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(G,a.Ay.sources.USER),this.quill.setSelection(W.index-1,a.Ay.sources.SILENT),!1}return!0}},"embed left":B("ArrowLeft",!1),"embed left shift":B("ArrowLeft",!0),"embed right":B("ArrowRight",!1),"embed right shift":B("ArrowRight",!0),"table down":tt(!1),"table up":tt(!0)}};function _(W){return{key:"Tab",shiftKey:!W,format:{"code-block":!0},handler(m,R){let{event:K}=R;const M=this.quill.scroll.query("code-block"),{TAB:G}=M;if(m.length===0&&!K.shiftKey)return this.quill.insertText(m.index,G,a.Ay.sources.USER),void this.quill.setSelection(m.index+G.length,a.Ay.sources.SILENT);const it=m.length===0?this.quill.getLines(m.index,1):this.quill.getLines(m);let{index:nt,length:ht}=m;it.forEach(((pt,J)=>{W?(pt.insertAt(0,G),J===0?nt+=G.length:ht+=G.length):pt.domNode.textContent.startsWith(G)&&(pt.deleteAt(0,G.length),J===0?nt-=G.length:ht-=G.length)})),this.quill.update(a.Ay.sources.USER),this.quill.setSelection(nt,ht,a.Ay.sources.SILENT)}}}function B(W,m){return{key:W,shiftKey:m,altKey:null,[W==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(R){let{index:K}=R;W==="ArrowRight"&&(K+=R.length+1);const[M]=this.quill.getLeaf(K);return!(M instanceof j.EmbedBlot&&(W==="ArrowLeft"?m?this.quill.setSelection(R.index-1,R.length+1,a.Ay.sources.USER):this.quill.setSelection(R.index-1,a.Ay.sources.USER):m?this.quill.setSelection(R.index,R.length+1,a.Ay.sources.USER):this.quill.setSelection(R.index+R.length+1,a.Ay.sources.USER),1))}}}function z(W){return{key:W[0],shortKey:!0,handler(m,R){this.quill.format(W,!R.format[W],a.Ay.sources.USER)}}}function tt(W){return{key:W?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(m,R){const K=W?"prev":"next",M=R.line,G=M.parent[K];if(G!=null){if(G.statics.blotName==="table-row"){let it=G.children.head,nt=M;for(;nt.prev!=null;)nt=nt.prev,it=it.next;const ht=it.offset(this.quill.scroll)+Math.min(R.offset,it.length()-1);this.quill.setSelection(ht,0,a.Ay.sources.USER)}}else{const it=M.table()[K];it!=null&&(W?this.quill.setSelection(it.offset(this.quill.scroll)+it.length()-1,0,a.Ay.sources.USER):this.quill.setSelection(it.offset(this.quill.scroll),0,a.Ay.sources.USER))}return!1}}}function rt(W){let{quill:m,range:R}=W;const K=m.getLines(R);let M={};if(K.length>1){const G=K[0].formats(),it=K[K.length-1].formats();M=O.AttributeMap.diff(it,G)||{}}m.deleteText(R,a.Ay.sources.USER),Object.keys(M).length>0&&m.formatLine(R.index,1,M,a.Ay.sources.USER),m.setSelection(R.index,a.Ay.sources.SILENT)}h.DEFAULTS=v},8920:function(Q){"use strict";var C=Object.prototype.hasOwnProperty,e="~";function f(){}function x(a,k,l){this.fn=a,this.context=k,this.once=l||!1}function O(a,k,l,E,T){if(typeof l!="function")throw new TypeError("The listener must be a function");var h=new x(l,E||a,T),v=e?e+k:k;return a._events[v]?a._events[v].fn?a._events[v]=[a._events[v],h]:a._events[v].push(h):(a._events[v]=h,a._eventsCount++),a}function A(a,k){--a._eventsCount==0?a._events=new f:delete a._events[k]}function j(){this._events=new f,this._eventsCount=0}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(e=!1)),j.prototype.eventNames=function(){var a,k,l=[];if(this._eventsCount===0)return l;for(k in a=this._events)C.call(a,k)&&l.push(e?k.slice(1):k);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(a)):l},j.prototype.listeners=function(a){var k=e?e+a:a,l=this._events[k];if(!l)return[];if(l.fn)return[l.fn];for(var E=0,T=l.length,h=new Array(T);E<T;E++)h[E]=l[E].fn;return h},j.prototype.listenerCount=function(a){var k=e?e+a:a,l=this._events[k];return l?l.fn?1:l.length:0},j.prototype.emit=function(a,k,l,E,T,h){var v=e?e+a:a;if(!this._events[v])return!1;var _,B,z=this._events[v],tt=arguments.length;if(z.fn){switch(z.once&&this.removeListener(a,z.fn,void 0,!0),tt){case 1:return z.fn.call(z.context),!0;case 2:return z.fn.call(z.context,k),!0;case 3:return z.fn.call(z.context,k,l),!0;case 4:return z.fn.call(z.context,k,l,E),!0;case 5:return z.fn.call(z.context,k,l,E,T),!0;case 6:return z.fn.call(z.context,k,l,E,T,h),!0}for(B=1,_=new Array(tt-1);B<tt;B++)_[B-1]=arguments[B];z.fn.apply(z.context,_)}else{var rt,W=z.length;for(B=0;B<W;B++)switch(z[B].once&&this.removeListener(a,z[B].fn,void 0,!0),tt){case 1:z[B].fn.call(z[B].context);break;case 2:z[B].fn.call(z[B].context,k);break;case 3:z[B].fn.call(z[B].context,k,l);break;case 4:z[B].fn.call(z[B].context,k,l,E);break;default:if(!_)for(rt=1,_=new Array(tt-1);rt<tt;rt++)_[rt-1]=arguments[rt];z[B].fn.apply(z[B].context,_)}}return!0},j.prototype.on=function(a,k,l){return O(this,a,k,l,!1)},j.prototype.once=function(a,k,l){return O(this,a,k,l,!0)},j.prototype.removeListener=function(a,k,l,E){var T=e?e+a:a;if(!this._events[T])return this;if(!k)return A(this,T),this;var h=this._events[T];if(h.fn)h.fn!==k||E&&!h.once||l&&h.context!==l||A(this,T);else{for(var v=0,_=[],B=h.length;v<B;v++)(h[v].fn!==k||E&&!h[v].once||l&&h[v].context!==l)&&_.push(h[v]);_.length?this._events[T]=_.length===1?_[0]:_:A(this,T)}return this},j.prototype.removeAllListeners=function(a){var k;return a?(k=e?e+a:a,this._events[k]&&A(this,k)):(this._events=new f,this._eventsCount=0),this},j.prototype.off=j.prototype.removeListener,j.prototype.addListener=j.prototype.on,j.prefixed=e,j.EventEmitter=j,Q.exports=j},5090:function(Q){var C=-1,e=1,f=0;function x(m,R,K,M,G){if(m===R)return m?[[f,m]]:[];if(K!=null){var it=(function(Y,ot,y){var t=typeof y=="number"?{index:y,length:0}:y.oldRange,n=typeof y=="number"?null:y.newRange,r=Y.length,L=ot.length;if(t.length===0&&(n===null||n.length===0)){var c=t.index,p=Y.slice(0,c),w=Y.slice(c),q=n?n.index:null,g=c+L-r;if((q===null||q===g)&&!(g<0||g>L)){var s=ot.slice(0,g);if((N=ot.slice(g))===w){var o=Math.min(c,g);if((U=p.slice(0,o))===(V=s.slice(0,o)))return rt(U,p.slice(o),s.slice(o),w)}}if(q===null||q===c){var d=c,N=(s=ot.slice(0,d),ot.slice(d));if(s===p){var S=Math.min(r-d,L-d);if(($=w.slice(w.length-S))===(Z=N.slice(N.length-S)))return rt(p,w.slice(0,w.length-S),N.slice(0,N.length-S),$)}}}if(t.length>0&&n&&n.length===0){var U=Y.slice(0,t.index),$=Y.slice(t.index+t.length);if(!(L<(o=U.length)+(S=$.length))){var V=ot.slice(0,o),Z=ot.slice(L-S);if(U===V&&$===Z)return rt(U,Y.slice(o,r-S),ot.slice(o,L-S),$)}}return null})(m,R,K);if(it)return it}var nt=A(m,R),ht=m.substring(0,nt);nt=a(m=m.substring(nt),R=R.substring(nt));var pt=m.substring(m.length-nt),J=(function(Y,ot){var y;if(!Y)return[[e,ot]];if(!ot)return[[C,Y]];var t=Y.length>ot.length?Y:ot,n=Y.length>ot.length?ot:Y,r=t.indexOf(n);if(r!==-1)return y=[[e,t.substring(0,r)],[f,n],[e,t.substring(r+n.length)]],Y.length>ot.length&&(y[0][0]=y[2][0]=C),y;if(n.length===1)return[[C,Y],[e,ot]];var L=(function(d,N){var S=d.length>N.length?d:N,U=d.length>N.length?N:d;if(S.length<4||2*U.length<S.length)return null;function $(ft,wt,Tt){for(var Lt,ut,bt,xt,St=ft.substring(Tt,Tt+Math.floor(ft.length/4)),Nt=-1,jt="";(Nt=wt.indexOf(St,Nt+1))!==-1;){var Mt=A(ft.substring(Tt),wt.substring(Nt)),Pt=a(ft.substring(0,Tt),wt.substring(0,Nt));jt.length<Pt+Mt&&(jt=wt.substring(Nt-Pt,Nt)+wt.substring(Nt,Nt+Mt),Lt=ft.substring(0,Tt-Pt),ut=ft.substring(Tt+Mt),bt=wt.substring(0,Nt-Pt),xt=wt.substring(Nt+Mt))}return 2*jt.length>=ft.length?[Lt,ut,bt,xt,jt]:null}var V,Z,et,at,lt,mt=$(S,U,Math.ceil(S.length/4)),dt=$(S,U,Math.ceil(S.length/2));return mt||dt?(V=dt?mt&&mt[4].length>dt[4].length?mt:dt:mt,d.length>N.length?(Z=V[0],et=V[1],at=V[2],lt=V[3]):(at=V[0],lt=V[1],Z=V[2],et=V[3]),[Z,et,at,lt,V[4]]):null})(Y,ot);if(L){var c=L[0],p=L[1],w=L[2],q=L[3],g=L[4],s=x(c,w),o=x(p,q);return s.concat([[f,g]],o)}return(function(d,N){for(var S=d.length,U=N.length,$=Math.ceil((S+U)/2),V=$,Z=2*$,et=new Array(Z),at=new Array(Z),lt=0;lt<Z;lt++)et[lt]=-1,at[lt]=-1;et[V+1]=0,at[V+1]=0;for(var mt=S-U,dt=mt%2!=0,ft=0,wt=0,Tt=0,Lt=0,ut=0;ut<$;ut++){for(var bt=-ut+ft;bt<=ut-wt;bt+=2){for(var xt=V+bt,St=(_t=bt===-ut||bt!==ut&&et[xt-1]<et[xt+1]?et[xt+1]:et[xt-1]+1)-bt;_t<S&&St<U&&d.charAt(_t)===N.charAt(St);)_t++,St++;if(et[xt]=_t,_t>S)wt+=2;else if(St>U)ft+=2;else if(dt&&(Mt=V+mt-bt)>=0&&Mt<Z&&at[Mt]!==-1&&_t>=(jt=S-at[Mt]))return O(d,N,_t,St)}for(var Nt=-ut+Tt;Nt<=ut-Lt;Nt+=2){for(var jt,Mt=V+Nt,Pt=(jt=Nt===-ut||Nt!==ut&&at[Mt-1]<at[Mt+1]?at[Mt+1]:at[Mt-1]+1)-Nt;jt<S&&Pt<U&&d.charAt(S-jt-1)===N.charAt(U-Pt-1);)jt++,Pt++;if(at[Mt]=jt,jt>S)Lt+=2;else if(Pt>U)Tt+=2;else if(!dt){var _t;if((xt=V+mt-Nt)>=0&&xt<Z&&et[xt]!==-1&&(St=V+(_t=et[xt])-xt,_t>=(jt=S-jt)))return O(d,N,_t,St)}}}return[[C,d],[e,N]]})(Y,ot)})(m=m.substring(0,m.length-nt),R=R.substring(0,R.length-nt));return ht&&J.unshift([f,ht]),pt&&J.push([f,pt]),v(J,G),M&&(function(Y){for(var ot=!1,y=[],t=0,n=null,r=0,L=0,c=0,p=0,w=0;r<Y.length;)Y[r][0]==f?(y[t++]=r,L=p,c=w,p=0,w=0,n=Y[r][1]):(Y[r][0]==e?p+=Y[r][1].length:w+=Y[r][1].length,n&&n.length<=Math.max(L,c)&&n.length<=Math.max(p,w)&&(Y.splice(y[t-1],0,[C,n]),Y[y[t-1]+1][0]=e,t--,r=--t>0?y[t-1]:-1,L=0,c=0,p=0,w=0,n=null,ot=!0)),r++;for(ot&&v(Y),(function(d){function N(wt,Tt){if(!wt||!Tt)return 6;var Lt=wt.charAt(wt.length-1),ut=Tt.charAt(0),bt=Lt.match(k),xt=ut.match(k),St=bt&&Lt.match(l),Nt=xt&&ut.match(l),jt=St&&Lt.match(E),Mt=Nt&&ut.match(E),Pt=jt&&wt.match(T),_t=Mt&&Tt.match(h);return Pt||_t?5:jt||Mt?4:bt&&!St&&Nt?3:St||Nt?2:bt||xt?1:0}for(var S=1;S<d.length-1;){if(d[S-1][0]==f&&d[S+1][0]==f){var U=d[S-1][1],$=d[S][1],V=d[S+1][1],Z=a(U,$);if(Z){var et=$.substring($.length-Z);U=U.substring(0,U.length-Z),$=et+$.substring(0,$.length-Z),V=et+V}for(var at=U,lt=$,mt=V,dt=N(U,$)+N($,V);$.charAt(0)===V.charAt(0);){U+=$.charAt(0),$=$.substring(1)+V.charAt(0),V=V.substring(1);var ft=N(U,$)+N($,V);ft>=dt&&(dt=ft,at=U,lt=$,mt=V)}d[S-1][1]!=at&&(at?d[S-1][1]=at:(d.splice(S-1,1),S--),d[S][1]=lt,mt?d[S+1][1]=mt:(d.splice(S+1,1),S--))}S++}})(Y),r=1;r<Y.length;){if(Y[r-1][0]==C&&Y[r][0]==e){var q=Y[r-1][1],g=Y[r][1],s=j(q,g),o=j(g,q);s>=o?(s>=q.length/2||s>=g.length/2)&&(Y.splice(r,0,[f,g.substring(0,s)]),Y[r-1][1]=q.substring(0,q.length-s),Y[r+1][1]=g.substring(s),r++):(o>=q.length/2||o>=g.length/2)&&(Y.splice(r,0,[f,q.substring(0,o)]),Y[r-1][0]=e,Y[r-1][1]=g.substring(0,g.length-o),Y[r+1][0]=C,Y[r+1][1]=q.substring(o),r++),r++}r++}})(J),J}function O(m,R,K,M){var G=m.substring(0,K),it=R.substring(0,M),nt=m.substring(K),ht=R.substring(M),pt=x(G,it),J=x(nt,ht);return pt.concat(J)}function A(m,R){if(!m||!R||m.charAt(0)!==R.charAt(0))return 0;for(var K=0,M=Math.min(m.length,R.length),G=M,it=0;K<G;)m.substring(it,G)==R.substring(it,G)?it=K=G:M=G,G=Math.floor((M-K)/2+K);return _(m.charCodeAt(G-1))&&G--,G}function j(m,R){var K=m.length,M=R.length;if(K==0||M==0)return 0;K>M?m=m.substring(K-M):K<M&&(R=R.substring(0,K));var G=Math.min(K,M);if(m==R)return G;for(var it=0,nt=1;;){var ht=m.substring(G-nt),pt=R.indexOf(ht);if(pt==-1)return it;nt+=pt,pt!=0&&m.substring(G-nt)!=R.substring(0,nt)||(it=nt,nt++)}}function a(m,R){if(!m||!R||m.slice(-1)!==R.slice(-1))return 0;for(var K=0,M=Math.min(m.length,R.length),G=M,it=0;K<G;)m.substring(m.length-G,m.length-it)==R.substring(R.length-G,R.length-it)?it=K=G:M=G,G=Math.floor((M-K)/2+K);return B(m.charCodeAt(m.length-G))&&G--,G}var k=/[^a-zA-Z0-9]/,l=/\s/,E=/[\r\n]/,T=/\n\r?\n$/,h=/^\r?\n\r?\n/;function v(m,R){m.push([f,""]);for(var K,M=0,G=0,it=0,nt="",ht="";M<m.length;)if(M<m.length-1&&!m[M][1])m.splice(M,1);else switch(m[M][0]){case e:it++,ht+=m[M][1],M++;break;case C:G++,nt+=m[M][1],M++;break;case f:var pt=M-it-G-1;if(R){if(pt>=0&&tt(m[pt][1])){var J=m[pt][1].slice(-1);if(m[pt][1]=m[pt][1].slice(0,-1),nt=J+nt,ht=J+ht,!m[pt][1]){m.splice(pt,1),M--;var Y=pt-1;m[Y]&&m[Y][0]===e&&(it++,ht=m[Y][1]+ht,Y--),m[Y]&&m[Y][0]===C&&(G++,nt=m[Y][1]+nt,Y--),pt=Y}}z(m[M][1])&&(J=m[M][1].charAt(0),m[M][1]=m[M][1].slice(1),nt+=J,ht+=J)}if(M<m.length-1&&!m[M][1]){m.splice(M,1);break}if(nt.length>0||ht.length>0){nt.length>0&&ht.length>0&&((K=A(ht,nt))!==0&&(pt>=0?m[pt][1]+=ht.substring(0,K):(m.splice(0,0,[f,ht.substring(0,K)]),M++),ht=ht.substring(K),nt=nt.substring(K)),(K=a(ht,nt))!==0&&(m[M][1]=ht.substring(ht.length-K)+m[M][1],ht=ht.substring(0,ht.length-K),nt=nt.substring(0,nt.length-K)));var ot=it+G;nt.length===0&&ht.length===0?(m.splice(M-ot,ot),M-=ot):nt.length===0?(m.splice(M-ot,ot,[e,ht]),M=M-ot+1):ht.length===0?(m.splice(M-ot,ot,[C,nt]),M=M-ot+1):(m.splice(M-ot,ot,[C,nt],[e,ht]),M=M-ot+2)}M!==0&&m[M-1][0]===f?(m[M-1][1]+=m[M][1],m.splice(M,1)):M++,it=0,G=0,nt="",ht=""}m[m.length-1][1]===""&&m.pop();var y=!1;for(M=1;M<m.length-1;)m[M-1][0]===f&&m[M+1][0]===f&&(m[M][1].substring(m[M][1].length-m[M-1][1].length)===m[M-1][1]?(m[M][1]=m[M-1][1]+m[M][1].substring(0,m[M][1].length-m[M-1][1].length),m[M+1][1]=m[M-1][1]+m[M+1][1],m.splice(M-1,1),y=!0):m[M][1].substring(0,m[M+1][1].length)==m[M+1][1]&&(m[M-1][1]+=m[M+1][1],m[M][1]=m[M][1].substring(m[M+1][1].length)+m[M+1][1],m.splice(M+1,1),y=!0)),M++;y&&v(m,R)}function _(m){return m>=55296&&m<=56319}function B(m){return m>=56320&&m<=57343}function z(m){return B(m.charCodeAt(0))}function tt(m){return _(m.charCodeAt(m.length-1))}function rt(m,R,K,M){return tt(m)||z(M)?null:(function(G){for(var it=[],nt=0;nt<G.length;nt++)G[nt][1].length>0&&it.push(G[nt]);return it})([[f,m],[C,R],[e,K],[f,M]])}function W(m,R,K,M){return x(m,R,K,M,!0)}W.INSERT=e,W.DELETE=C,W.EQUAL=f,Q.exports=W},9629:function(Q,C,e){Q=e.nmd(Q);var f="__lodash_hash_undefined__",x=9007199254740991,O="[object Arguments]",A="[object Boolean]",j="[object Date]",a="[object Function]",k="[object GeneratorFunction]",l="[object Map]",E="[object Number]",T="[object Object]",h="[object Promise]",v="[object RegExp]",_="[object Set]",B="[object String]",z="[object Symbol]",tt="[object WeakMap]",rt="[object ArrayBuffer]",W="[object DataView]",m="[object Float32Array]",R="[object Float64Array]",K="[object Int8Array]",M="[object Int16Array]",G="[object Int32Array]",it="[object Uint8Array]",nt="[object Uint8ClampedArray]",ht="[object Uint16Array]",pt="[object Uint32Array]",J=/\w*$/,Y=/^\[object .+?Constructor\]$/,ot=/^(?:0|[1-9]\d*)$/,y={};y[O]=y["[object Array]"]=y[rt]=y[W]=y[A]=y[j]=y[m]=y[R]=y[K]=y[M]=y[G]=y[l]=y[E]=y[T]=y[v]=y[_]=y[B]=y[z]=y[it]=y[nt]=y[ht]=y[pt]=!0,y["[object Error]"]=y[a]=y[tt]=!1;var t=typeof e.g=="object"&&e.g&&e.g.Object===Object&&e.g,n=typeof self=="object"&&self&&self.Object===Object&&self,r=t||n||Function("return this")(),L=C&&!C.nodeType&&C,c=L&&Q&&!Q.nodeType&&Q,p=c&&c.exports===L;function w(P,b){return P.set(b[0],b[1]),P}function q(P,b){return P.add(b),P}function g(P,b,I,F){var ct=-1,kt=P?P.length:0;for(F&&kt&&(I=P[++ct]);++ct<kt;)I=b(I,P[ct],ct,P);return I}function s(P){var b=!1;if(P!=null&&typeof P.toString!="function")try{b=!!(P+"")}catch{}return b}function o(P){var b=-1,I=Array(P.size);return P.forEach((function(F,ct){I[++b]=[ct,F]})),I}function d(P,b){return function(I){return P(b(I))}}function N(P){var b=-1,I=Array(P.size);return P.forEach((function(F){I[++b]=F})),I}var S,U=Array.prototype,$=Function.prototype,V=Object.prototype,Z=r["__core-js_shared__"],et=(S=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",at=$.toString,lt=V.hasOwnProperty,mt=V.toString,dt=RegExp("^"+at.call(lt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ft=p?r.Buffer:void 0,wt=r.Symbol,Tt=r.Uint8Array,Lt=d(Object.getPrototypeOf,Object),ut=Object.create,bt=V.propertyIsEnumerable,xt=U.splice,St=Object.getOwnPropertySymbols,Nt=ft?ft.isBuffer:void 0,jt=d(Object.keys,Object),Mt=u(r,"DataView"),Pt=u(r,"Map"),_t=u(r,"Promise"),pe=u(r,"Set"),xe=u(r,"WeakMap"),he=u(Object,"create"),Le=Et(Mt),Se=Et(Pt),qe=Et(_t),oe=Et(pe),ne=Et(xe),Wt=wt?wt.prototype:void 0,te=Wt?Wt.valueOf:void 0;function Qt(P){var b=-1,I=P?P.length:0;for(this.clear();++b<I;){var F=P[b];this.set(F[0],F[1])}}function Vt(P){var b=-1,I=P?P.length:0;for(this.clear();++b<I;){var F=P[b];this.set(F[0],F[1])}}function Yt(P){var b=-1,I=P?P.length:0;for(this.clear();++b<I;){var F=P[b];this.set(F[0],F[1])}}function Jt(P){this.__data__=new Vt(P)}function Ne(P,b,I){var F=P[b];lt.call(P,b)&&zt(F,I)&&(I!==void 0||b in P)||(P[b]=I)}function ae(P,b){for(var I=P.length;I--;)if(zt(P[I][0],b))return I;return-1}function ge(P,b,I,F,ct,kt,yt){var At;if(F&&(At=kt?F(P,ct,kt,yt):F(P)),At!==void 0)return At;if(!se(P))return P;var Ut=Zt(P);if(Ut){if(At=(function(vt){var qt=vt.length,Ct=vt.constructor(qt);return qt&&typeof vt[0]=="string"&&lt.call(vt,"index")&&(Ct.index=vt.index,Ct.input=vt.input),Ct})(P),!b)return(function(vt,qt){var Ct=-1,$t=vt.length;for(qt||(qt=Array($t));++Ct<$t;)qt[Ct]=vt[Ct];return qt})(P,At)}else{var Bt=X(P),Kt=Bt==a||Bt==k;if(ee(P))return(function(vt,qt){if(qt)return vt.slice();var Ct=new vt.constructor(vt.length);return vt.copy(Ct),Ct})(P,b);if(Bt==T||Bt==O||Kt&&!kt){if(s(P))return kt?P:{};if(At=(function(vt){return typeof vt.constructor!="function"||gt(vt)?{}:se(qt=Lt(vt))?ut(qt):{};var qt})(Kt?{}:P),!b)return(function(vt,qt){return H(vt,D(vt),qt)})(P,(function(vt,qt){return vt&&H(qt,ce(qt),vt)})(At,P))}else{if(!y[Bt])return kt?P:{};At=(function(vt,qt,Ct,$t){var ue,re=vt.constructor;switch(qt){case rt:return me(vt);case A:case j:return new re(+vt);case W:return(function(Rt,Gt){var le=Gt?me(Rt.buffer):Rt.buffer;return new Rt.constructor(le,Rt.byteOffset,Rt.byteLength)})(vt,$t);case m:case R:case K:case M:case G:case it:case nt:case ht:case pt:return(function(Rt,Gt){var le=Gt?me(Rt.buffer):Rt.buffer;return new Rt.constructor(le,Rt.byteOffset,Rt.length)})(vt,$t);case l:return(function(Rt,Gt,le){return g(Gt?le(o(Rt),!0):o(Rt),w,new Rt.constructor)})(vt,$t,Ct);case E:case B:return new re(vt);case v:return(function(Rt){var Gt=new Rt.constructor(Rt.source,J.exec(Rt));return Gt.lastIndex=Rt.lastIndex,Gt})(vt);case _:return(function(Rt,Gt,le){return g(Gt?le(N(Rt),!0):N(Rt),q,new Rt.constructor)})(vt,$t,Ct);case z:return ue=vt,te?Object(te.call(ue)):{}}})(P,Bt,ge,b)}}yt||(yt=new Jt);var Ft=yt.get(P);if(Ft)return Ft;if(yt.set(P,At),!Ut)var Ht=I?(function(vt){return(function(qt,Ct,$t){var ue=Ct(qt);return Zt(qt)?ue:(function(re,Rt){for(var Gt=-1,le=Rt.length,Me=re.length;++Gt<le;)re[Me+Gt]=Rt[Gt];return re})(ue,$t(qt))})(vt,ce,D)})(P):ce(P);return(function(vt,qt){for(var Ct=-1,$t=vt?vt.length:0;++Ct<$t&&qt(vt[Ct],Ct)!==!1;);})(Ht||P,(function(vt,qt){Ht&&(vt=P[qt=vt]),Ne(At,qt,ge(vt,b,I,F,qt,P,yt))})),At}function me(P){var b=new P.constructor(P.byteLength);return new Tt(b).set(new Tt(P)),b}function H(P,b,I,F){I||(I={});for(var ct=-1,kt=b.length;++ct<kt;){var yt=b[ct],At=F?F(I[yt],P[yt],yt,I,P):void 0;Ne(I,yt,At===void 0?P[yt]:At)}return I}function i(P,b){var I,F,ct=P.__data__;return((F=typeof(I=b))=="string"||F=="number"||F=="symbol"||F=="boolean"?I!=="__proto__":I===null)?ct[typeof b=="string"?"string":"hash"]:ct.map}function u(P,b){var I=(function(F,ct){return F?.[ct]})(P,b);return(function(F){return!(!se(F)||(ct=F,et&&et in ct))&&(Ee(F)||s(F)?dt:Y).test(Et(F));var ct})(I)?I:void 0}Qt.prototype.clear=function(){this.__data__=he?he(null):{}},Qt.prototype.delete=function(P){return this.has(P)&&delete this.__data__[P]},Qt.prototype.get=function(P){var b=this.__data__;if(he){var I=b[P];return I===f?void 0:I}return lt.call(b,P)?b[P]:void 0},Qt.prototype.has=function(P){var b=this.__data__;return he?b[P]!==void 0:lt.call(b,P)},Qt.prototype.set=function(P,b){return this.__data__[P]=he&&b===void 0?f:b,this},Vt.prototype.clear=function(){this.__data__=[]},Vt.prototype.delete=function(P){var b=this.__data__,I=ae(b,P);return!(I<0||(I==b.length-1?b.pop():xt.call(b,I,1),0))},Vt.prototype.get=function(P){var b=this.__data__,I=ae(b,P);return I<0?void 0:b[I][1]},Vt.prototype.has=function(P){return ae(this.__data__,P)>-1},Vt.prototype.set=function(P,b){var I=this.__data__,F=ae(I,P);return F<0?I.push([P,b]):I[F][1]=b,this},Yt.prototype.clear=function(){this.__data__={hash:new Qt,map:new(Pt||Vt),string:new Qt}},Yt.prototype.delete=function(P){return i(this,P).delete(P)},Yt.prototype.get=function(P){return i(this,P).get(P)},Yt.prototype.has=function(P){return i(this,P).has(P)},Yt.prototype.set=function(P,b){return i(this,P).set(P,b),this},Jt.prototype.clear=function(){this.__data__=new Vt},Jt.prototype.delete=function(P){return this.__data__.delete(P)},Jt.prototype.get=function(P){return this.__data__.get(P)},Jt.prototype.has=function(P){return this.__data__.has(P)},Jt.prototype.set=function(P,b){var I=this.__data__;if(I instanceof Vt){var F=I.__data__;if(!Pt||F.length<199)return F.push([P,b]),this;I=this.__data__=new Yt(F)}return I.set(P,b),this};var D=St?d(St,Object):function(){return[]},X=function(P){return mt.call(P)};function st(P,b){return!!(b=b??x)&&(typeof P=="number"||ot.test(P))&&P>-1&&P%1==0&&P<b}function gt(P){var b=P&&P.constructor;return P===(typeof b=="function"&&b.prototype||V)}function Et(P){if(P!=null){try{return at.call(P)}catch{}try{return P+""}catch{}}return""}function zt(P,b){return P===b||P!=P&&b!=b}(Mt&&X(new Mt(new ArrayBuffer(1)))!=W||Pt&&X(new Pt)!=l||_t&&X(_t.resolve())!=h||pe&&X(new pe)!=_||xe&&X(new xe)!=tt)&&(X=function(P){var b=mt.call(P),I=b==T?P.constructor:void 0,F=I?Et(I):void 0;if(F)switch(F){case Le:return W;case Se:return l;case qe:return h;case oe:return _;case ne:return tt}return b});var Zt=Array.isArray;function Xt(P){return P!=null&&(function(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=x})(P.length)&&!Ee(P)}var ee=Nt||function(){return!1};function Ee(P){var b=se(P)?mt.call(P):"";return b==a||b==k}function se(P){var b=typeof P;return!!P&&(b=="object"||b=="function")}function ce(P){return Xt(P)?(function(b,I){var F=Zt(b)||(function(At){return(function(Ut){return(function(Bt){return!!Bt&&typeof Bt=="object"})(Ut)&&Xt(Ut)})(At)&&lt.call(At,"callee")&&(!bt.call(At,"callee")||mt.call(At)==O)})(b)?(function(At,Ut){for(var Bt=-1,Kt=Array(At);++Bt<At;)Kt[Bt]=Ut(Bt);return Kt})(b.length,String):[],ct=F.length,kt=!!ct;for(var yt in b)!I&&!lt.call(b,yt)||kt&&(yt=="length"||st(yt,ct))||F.push(yt);return F})(P):(function(b){if(!gt(b))return jt(b);var I=[];for(var F in Object(b))lt.call(b,F)&&F!="constructor"&&I.push(F);return I})(P)}Q.exports=function(P){return ge(P,!0,!0)}},4162:function(Q,C,e){Q=e.nmd(Q);var f="__lodash_hash_undefined__",x=1,O=2,A=9007199254740991,j="[object Arguments]",a="[object Array]",k="[object AsyncFunction]",l="[object Boolean]",E="[object Date]",T="[object Error]",h="[object Function]",v="[object GeneratorFunction]",_="[object Map]",B="[object Number]",z="[object Null]",tt="[object Object]",rt="[object Promise]",W="[object Proxy]",m="[object RegExp]",R="[object Set]",K="[object String]",M="[object Undefined]",G="[object WeakMap]",it="[object ArrayBuffer]",nt="[object DataView]",ht=/^\[object .+?Constructor\]$/,pt=/^(?:0|[1-9]\d*)$/,J={};J["[object Float32Array]"]=J["[object Float64Array]"]=J["[object Int8Array]"]=J["[object Int16Array]"]=J["[object Int32Array]"]=J["[object Uint8Array]"]=J["[object Uint8ClampedArray]"]=J["[object Uint16Array]"]=J["[object Uint32Array]"]=!0,J[j]=J[a]=J[it]=J[l]=J[nt]=J[E]=J[T]=J[h]=J[_]=J[B]=J[tt]=J[m]=J[R]=J[K]=J[G]=!1;var Y=typeof e.g=="object"&&e.g&&e.g.Object===Object&&e.g,ot=typeof self=="object"&&self&&self.Object===Object&&self,y=Y||ot||Function("return this")(),t=C&&!C.nodeType&&C,n=t&&Q&&!Q.nodeType&&Q,r=n&&n.exports===t,L=r&&Y.process,c=(function(){try{return L&&L.binding&&L.binding("util")}catch{}})(),p=c&&c.isTypedArray;function w(b,I){for(var F=-1,ct=b==null?0:b.length;++F<ct;)if(I(b[F],F,b))return!0;return!1}function q(b){var I=-1,F=Array(b.size);return b.forEach((function(ct,kt){F[++I]=[kt,ct]})),F}function g(b){var I=-1,F=Array(b.size);return b.forEach((function(ct){F[++I]=ct})),F}var s,o,d,N=Array.prototype,S=Function.prototype,U=Object.prototype,$=y["__core-js_shared__"],V=S.toString,Z=U.hasOwnProperty,et=(s=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"",at=U.toString,lt=RegExp("^"+V.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=r?y.Buffer:void 0,dt=y.Symbol,ft=y.Uint8Array,wt=U.propertyIsEnumerable,Tt=N.splice,Lt=dt?dt.toStringTag:void 0,ut=Object.getOwnPropertySymbols,bt=mt?mt.isBuffer:void 0,xt=(o=Object.keys,d=Object,function(b){return o(d(b))}),St=i(y,"DataView"),Nt=i(y,"Map"),jt=i(y,"Promise"),Mt=i(y,"Set"),Pt=i(y,"WeakMap"),_t=i(Object,"create"),pe=st(St),xe=st(Nt),he=st(jt),Le=st(Mt),Se=st(Pt),qe=dt?dt.prototype:void 0,oe=qe?qe.valueOf:void 0;function ne(b){var I=-1,F=b==null?0:b.length;for(this.clear();++I<F;){var ct=b[I];this.set(ct[0],ct[1])}}function Wt(b){var I=-1,F=b==null?0:b.length;for(this.clear();++I<F;){var ct=b[I];this.set(ct[0],ct[1])}}function te(b){var I=-1,F=b==null?0:b.length;for(this.clear();++I<F;){var ct=b[I];this.set(ct[0],ct[1])}}function Qt(b){var I=-1,F=b==null?0:b.length;for(this.__data__=new te;++I<F;)this.add(b[I])}function Vt(b){var I=this.__data__=new Wt(b);this.size=I.size}function Yt(b,I){for(var F=b.length;F--;)if(gt(b[F][0],I))return F;return-1}function Jt(b){return b==null?b===void 0?M:z:Lt&&Lt in Object(b)?(function(I){var F=Z.call(I,Lt),ct=I[Lt];try{I[Lt]=void 0;var kt=!0}catch{}var yt=at.call(I);return kt&&(F?I[Lt]=ct:delete I[Lt]),yt})(b):(function(I){return at.call(I)})(b)}function Ne(b){return se(b)&&Jt(b)==j}function ae(b,I,F,ct,kt){return b===I||(b==null||I==null||!se(b)&&!se(I)?b!=b&&I!=I:(function(yt,At,Ut,Bt,Kt,Ft){var Ht=zt(yt),vt=zt(At),qt=Ht?a:D(yt),Ct=vt?a:D(At),$t=(qt=qt==j?tt:qt)==tt,ue=(Ct=Ct==j?tt:Ct)==tt,re=qt==Ct;if(re&&Zt(yt)){if(!Zt(At))return!1;Ht=!0,$t=!1}if(re&&!$t)return Ft||(Ft=new Vt),Ht||ce(yt)?ge(yt,At,Ut,Bt,Kt,Ft):(function(Dt,It,_e,be,Ue,ie,de){switch(_e){case nt:if(Dt.byteLength!=It.byteLength||Dt.byteOffset!=It.byteOffset)return!1;Dt=Dt.buffer,It=It.buffer;case it:return!(Dt.byteLength!=It.byteLength||!ie(new ft(Dt),new ft(It)));case l:case E:case B:return gt(+Dt,+It);case T:return Dt.name==It.name&&Dt.message==It.message;case m:case K:return Dt==It+"";case _:var ye=q;case R:var Oe=be&x;if(ye||(ye=g),Dt.size!=It.size&&!Oe)return!1;var we=de.get(Dt);if(we)return we==It;be|=O,de.set(Dt,It);var fe=ge(ye(Dt),ye(It),be,Ue,ie,de);return de.delete(Dt),fe;case"[object Symbol]":if(oe)return oe.call(Dt)==oe.call(It)}return!1})(yt,At,qt,Ut,Bt,Kt,Ft);if(!(Ut&x)){var Rt=$t&&Z.call(yt,"__wrapped__"),Gt=ue&&Z.call(At,"__wrapped__");if(Rt||Gt){var le=Rt?yt.value():yt,Me=Gt?At.value():At;return Ft||(Ft=new Vt),Kt(le,Me,Ut,Bt,Ft)}}return!!re&&(Ft||(Ft=new Vt),(function(Dt,It,_e,be,Ue,ie){var de=_e&x,ye=me(Dt),Oe=ye.length;if(Oe!=me(It).length&&!de)return!1;for(var we=Oe;we--;){var fe=ye[we];if(!(de?fe in It:Z.call(It,fe)))return!1}var He=ie.get(Dt);if(He&&ie.get(It))return He==It;var Te=!0;ie.set(Dt,It),ie.set(It,Dt);for(var De=de;++we<Oe;){var je=Dt[fe=ye[we]],Ce=It[fe];if(be)var $e=de?be(Ce,je,fe,It,Dt,ie):be(je,Ce,fe,Dt,It,ie);if(!($e===void 0?je===Ce||Ue(je,Ce,_e,be,ie):$e)){Te=!1;break}De||(De=fe=="constructor")}if(Te&&!De){var Re=Dt.constructor,Be=It.constructor;Re==Be||!("constructor"in Dt)||!("constructor"in It)||typeof Re=="function"&&Re instanceof Re&&typeof Be=="function"&&Be instanceof Be||(Te=!1)}return ie.delete(Dt),ie.delete(It),Te})(yt,At,Ut,Bt,Kt,Ft))})(b,I,F,ct,ae,kt))}function ge(b,I,F,ct,kt,yt){var At=F&x,Ut=b.length,Bt=I.length;if(Ut!=Bt&&!(At&&Bt>Ut))return!1;var Kt=yt.get(b);if(Kt&&yt.get(I))return Kt==I;var Ft=-1,Ht=!0,vt=F&O?new Qt:void 0;for(yt.set(b,I),yt.set(I,b);++Ft<Ut;){var qt=b[Ft],Ct=I[Ft];if(ct)var $t=At?ct(Ct,qt,Ft,I,b,yt):ct(qt,Ct,Ft,b,I,yt);if($t!==void 0){if($t)continue;Ht=!1;break}if(vt){if(!w(I,(function(ue,re){if(Rt=re,!vt.has(Rt)&&(qt===ue||kt(qt,ue,F,ct,yt)))return vt.push(re);var Rt}))){Ht=!1;break}}else if(qt!==Ct&&!kt(qt,Ct,F,ct,yt)){Ht=!1;break}}return yt.delete(b),yt.delete(I),Ht}function me(b){return(function(I,F,ct){var kt=F(I);return zt(I)?kt:(function(yt,At){for(var Ut=-1,Bt=At.length,Kt=yt.length;++Ut<Bt;)yt[Kt+Ut]=At[Ut];return yt})(kt,ct(I))})(b,P,u)}function H(b,I){var F,ct,kt=b.__data__;return((ct=typeof(F=I))=="string"||ct=="number"||ct=="symbol"||ct=="boolean"?F!=="__proto__":F===null)?kt[typeof I=="string"?"string":"hash"]:kt.map}function i(b,I){var F=(function(ct,kt){return ct?.[kt]})(b,I);return(function(ct){return!(!Ee(ct)||(function(kt){return!!et&&et in kt})(ct))&&(Xt(ct)?lt:ht).test(st(ct))})(F)?F:void 0}ne.prototype.clear=function(){this.__data__=_t?_t(null):{},this.size=0},ne.prototype.delete=function(b){var I=this.has(b)&&delete this.__data__[b];return this.size-=I?1:0,I},ne.prototype.get=function(b){var I=this.__data__;if(_t){var F=I[b];return F===f?void 0:F}return Z.call(I,b)?I[b]:void 0},ne.prototype.has=function(b){var I=this.__data__;return _t?I[b]!==void 0:Z.call(I,b)},ne.prototype.set=function(b,I){var F=this.__data__;return this.size+=this.has(b)?0:1,F[b]=_t&&I===void 0?f:I,this},Wt.prototype.clear=function(){this.__data__=[],this.size=0},Wt.prototype.delete=function(b){var I=this.__data__,F=Yt(I,b);return!(F<0||(F==I.length-1?I.pop():Tt.call(I,F,1),--this.size,0))},Wt.prototype.get=function(b){var I=this.__data__,F=Yt(I,b);return F<0?void 0:I[F][1]},Wt.prototype.has=function(b){return Yt(this.__data__,b)>-1},Wt.prototype.set=function(b,I){var F=this.__data__,ct=Yt(F,b);return ct<0?(++this.size,F.push([b,I])):F[ct][1]=I,this},te.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(Nt||Wt),string:new ne}},te.prototype.delete=function(b){var I=H(this,b).delete(b);return this.size-=I?1:0,I},te.prototype.get=function(b){return H(this,b).get(b)},te.prototype.has=function(b){return H(this,b).has(b)},te.prototype.set=function(b,I){var F=H(this,b),ct=F.size;return F.set(b,I),this.size+=F.size==ct?0:1,this},Qt.prototype.add=Qt.prototype.push=function(b){return this.__data__.set(b,f),this},Qt.prototype.has=function(b){return this.__data__.has(b)},Vt.prototype.clear=function(){this.__data__=new Wt,this.size=0},Vt.prototype.delete=function(b){var I=this.__data__,F=I.delete(b);return this.size=I.size,F},Vt.prototype.get=function(b){return this.__data__.get(b)},Vt.prototype.has=function(b){return this.__data__.has(b)},Vt.prototype.set=function(b,I){var F=this.__data__;if(F instanceof Wt){var ct=F.__data__;if(!Nt||ct.length<199)return ct.push([b,I]),this.size=++F.size,this;F=this.__data__=new te(ct)}return F.set(b,I),this.size=F.size,this};var u=ut?function(b){return b==null?[]:(b=Object(b),(function(I,F){for(var ct=-1,kt=I==null?0:I.length,yt=0,At=[];++ct<kt;){var Ut=I[ct];Bt=Ut,wt.call(b,Bt)&&(At[yt++]=Ut)}var Bt;return At})(ut(b)))}:function(){return[]},D=Jt;function X(b,I){return!!(I=I??A)&&(typeof b=="number"||pt.test(b))&&b>-1&&b%1==0&&b<I}function st(b){if(b!=null){try{return V.call(b)}catch{}try{return b+""}catch{}}return""}function gt(b,I){return b===I||b!=b&&I!=I}(St&&D(new St(new ArrayBuffer(1)))!=nt||Nt&&D(new Nt)!=_||jt&&D(jt.resolve())!=rt||Mt&&D(new Mt)!=R||Pt&&D(new Pt)!=G)&&(D=function(b){var I=Jt(b),F=I==tt?b.constructor:void 0,ct=F?st(F):"";if(ct)switch(ct){case pe:return nt;case xe:return _;case he:return rt;case Le:return R;case Se:return G}return I});var Et=Ne((function(){return arguments})())?Ne:function(b){return se(b)&&Z.call(b,"callee")&&!wt.call(b,"callee")},zt=Array.isArray,Zt=bt||function(){return!1};function Xt(b){if(!Ee(b))return!1;var I=Jt(b);return I==h||I==v||I==k||I==W}function ee(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=A}function Ee(b){var I=typeof b;return b!=null&&(I=="object"||I=="function")}function se(b){return b!=null&&typeof b=="object"}var ce=p?(function(b){return function(I){return b(I)}})(p):function(b){return se(b)&&ee(b.length)&&!!J[Jt(b)]};function P(b){return(I=b)!=null&&ee(I.length)&&!Xt(I)?(function(F,ct){var kt=zt(F),yt=!kt&&Et(F),At=!kt&&!yt&&Zt(F),Ut=!kt&&!yt&&!At&&ce(F),Bt=kt||yt||At||Ut,Kt=Bt?(function(vt,qt){for(var Ct=-1,$t=Array(vt);++Ct<vt;)$t[Ct]=qt(Ct);return $t})(F.length,String):[],Ft=Kt.length;for(var Ht in F)!ct&&!Z.call(F,Ht)||Bt&&(Ht=="length"||At&&(Ht=="offset"||Ht=="parent")||Ut&&(Ht=="buffer"||Ht=="byteLength"||Ht=="byteOffset")||X(Ht,Ft))||Kt.push(Ht);return Kt})(b):(function(F){if(kt=(ct=F)&&ct.constructor,ct!==(typeof kt=="function"&&kt.prototype||U))return xt(F);var ct,kt,yt=[];for(var At in Object(F))Z.call(F,At)&&At!="constructor"&&yt.push(At);return yt})(b);var I}Q.exports=function(b,I){return ae(b,I)}},1270:function(Q,C,e){"use strict";Object.defineProperty(C,"__esModule",{value:!0});const f=e(9629),x=e(4162);var O;(function(A){A.compose=function(j={},a={},k=!1){typeof j!="object"&&(j={}),typeof a!="object"&&(a={});let l=f(a);k||(l=Object.keys(l).reduce(((E,T)=>(l[T]!=null&&(E[T]=l[T]),E)),{}));for(const E in j)j[E]!==void 0&&a[E]===void 0&&(l[E]=j[E]);return Object.keys(l).length>0?l:void 0},A.diff=function(j={},a={}){typeof j!="object"&&(j={}),typeof a!="object"&&(a={});const k=Object.keys(j).concat(Object.keys(a)).reduce(((l,E)=>(x(j[E],a[E])||(l[E]=a[E]===void 0?null:a[E]),l)),{});return Object.keys(k).length>0?k:void 0},A.invert=function(j={},a={}){j=j||{};const k=Object.keys(a).reduce(((l,E)=>(a[E]!==j[E]&&j[E]!==void 0&&(l[E]=a[E]),l)),{});return Object.keys(j).reduce(((l,E)=>(j[E]!==a[E]&&a[E]===void 0&&(l[E]=null),l)),k)},A.transform=function(j,a,k=!1){if(typeof j!="object")return a;if(typeof a!="object")return;if(!k)return a;const l=Object.keys(a).reduce(((E,T)=>(j[T]===void 0&&(E[T]=a[T]),E)),{});return Object.keys(l).length>0?l:void 0}})(O||(O={})),C.default=O},5232:function(Q,C,e){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.AttributeMap=C.OpIterator=C.Op=void 0;const f=e(5090),x=e(9629),O=e(4162),A=e(1270);C.AttributeMap=A.default;const j=e(4123);C.Op=j.default;const a=e(7033);C.OpIterator=a.default;const k="\0",l=(T,h)=>{if(typeof T!="object"||T===null)throw new Error("cannot retain a "+typeof T);if(typeof h!="object"||h===null)throw new Error("cannot retain a "+typeof h);const v=Object.keys(T)[0];if(!v||v!==Object.keys(h)[0])throw new Error(`embed types not matched: ${v} != ${Object.keys(h)[0]}`);return[v,T[v],h[v]]};class E{constructor(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]}static registerEmbed(h,v){this.handlers[h]=v}static unregisterEmbed(h){delete this.handlers[h]}static getHandler(h){const v=this.handlers[h];if(!v)throw new Error(`no handlers for embed type "${h}"`);return v}insert(h,v){const _={};return typeof h=="string"&&h.length===0?this:(_.insert=h,v!=null&&typeof v=="object"&&Object.keys(v).length>0&&(_.attributes=v),this.push(_))}delete(h){return h<=0?this:this.push({delete:h})}retain(h,v){if(typeof h=="number"&&h<=0)return this;const _={retain:h};return v!=null&&typeof v=="object"&&Object.keys(v).length>0&&(_.attributes=v),this.push(_)}push(h){let v=this.ops.length,_=this.ops[v-1];if(h=x(h),typeof _=="object"){if(typeof h.delete=="number"&&typeof _.delete=="number")return this.ops[v-1]={delete:_.delete+h.delete},this;if(typeof _.delete=="number"&&h.insert!=null&&(v-=1,_=this.ops[v-1],typeof _!="object"))return this.ops.unshift(h),this;if(O(h.attributes,_.attributes)){if(typeof h.insert=="string"&&typeof _.insert=="string")return this.ops[v-1]={insert:_.insert+h.insert},typeof h.attributes=="object"&&(this.ops[v-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof _.retain=="number")return this.ops[v-1]={retain:_.retain+h.retain},typeof h.attributes=="object"&&(this.ops[v-1].attributes=h.attributes),this}}return v===this.ops.length?this.ops.push(h):this.ops.splice(v,0,h),this}chop(){const h=this.ops[this.ops.length-1];return h&&typeof h.retain=="number"&&!h.attributes&&this.ops.pop(),this}filter(h){return this.ops.filter(h)}forEach(h){this.ops.forEach(h)}map(h){return this.ops.map(h)}partition(h){const v=[],_=[];return this.forEach((B=>{(h(B)?v:_).push(B)})),[v,_]}reduce(h,v){return this.ops.reduce(h,v)}changeLength(){return this.reduce(((h,v)=>v.insert?h+j.default.length(v):v.delete?h-v.delete:h),0)}length(){return this.reduce(((h,v)=>h+j.default.length(v)),0)}slice(h=0,v=1/0){const _=[],B=new a.default(this.ops);let z=0;for(;z<v&&B.hasNext();){let tt;z<h?tt=B.next(h-z):(tt=B.next(v-z),_.push(tt)),z+=j.default.length(tt)}return new E(_)}compose(h){const v=new a.default(this.ops),_=new a.default(h.ops),B=[],z=_.peek();if(z!=null&&typeof z.retain=="number"&&z.attributes==null){let rt=z.retain;for(;v.peekType()==="insert"&&v.peekLength()<=rt;)rt-=v.peekLength(),B.push(v.next());z.retain-rt>0&&_.next(z.retain-rt)}const tt=new E(B);for(;v.hasNext()||_.hasNext();)if(_.peekType()==="insert")tt.push(_.next());else if(v.peekType()==="delete")tt.push(v.next());else{const rt=Math.min(v.peekLength(),_.peekLength()),W=v.next(rt),m=_.next(rt);if(m.retain){const R={};if(typeof W.retain=="number")R.retain=typeof m.retain=="number"?rt:m.retain;else if(typeof m.retain=="number")W.retain==null?R.insert=W.insert:R.retain=W.retain;else{const M=W.retain==null?"insert":"retain",[G,it,nt]=l(W[M],m.retain),ht=E.getHandler(G);R[M]={[G]:ht.compose(it,nt,M==="retain")}}const K=A.default.compose(W.attributes,m.attributes,typeof W.retain=="number");if(K&&(R.attributes=K),tt.push(R),!_.hasNext()&&O(tt.ops[tt.ops.length-1],R)){const M=new E(v.rest());return tt.concat(M).chop()}}else typeof m.delete=="number"&&(typeof W.retain=="number"||typeof W.retain=="object"&&W.retain!==null)&&tt.push(m)}return tt.chop()}concat(h){const v=new E(this.ops.slice());return h.ops.length>0&&(v.push(h.ops[0]),v.ops=v.ops.concat(h.ops.slice(1))),v}diff(h,v){if(this.ops===h.ops)return new E;const _=[this,h].map((W=>W.map((m=>{if(m.insert!=null)return typeof m.insert=="string"?m.insert:k;throw new Error("diff() called "+(W===h?"on":"with")+" non-document")})).join(""))),B=new E,z=f(_[0],_[1],v,!0),tt=new a.default(this.ops),rt=new a.default(h.ops);return z.forEach((W=>{let m=W[1].length;for(;m>0;){let R=0;switch(W[0]){case f.INSERT:R=Math.min(rt.peekLength(),m),B.push(rt.next(R));break;case f.DELETE:R=Math.min(m,tt.peekLength()),tt.next(R),B.delete(R);break;case f.EQUAL:R=Math.min(tt.peekLength(),rt.peekLength(),m);const K=tt.next(R),M=rt.next(R);O(K.insert,M.insert)?B.retain(R,A.default.diff(K.attributes,M.attributes)):B.push(M).delete(R)}m-=R}})),B.chop()}eachLine(h,v=`
`){const _=new a.default(this.ops);let B=new E,z=0;for(;_.hasNext();){if(_.peekType()!=="insert")return;const tt=_.peek(),rt=j.default.length(tt)-_.peekLength(),W=typeof tt.insert=="string"?tt.insert.indexOf(v,rt)-rt:-1;if(W<0)B.push(_.next());else if(W>0)B.push(_.next(W));else{if(h(B,_.next(1).attributes||{},z)===!1)return;z+=1,B=new E}}B.length()>0&&h(B,{},z)}invert(h){const v=new E;return this.reduce(((_,B)=>{if(B.insert)v.delete(j.default.length(B));else{if(typeof B.retain=="number"&&B.attributes==null)return v.retain(B.retain),_+B.retain;if(B.delete||typeof B.retain=="number"){const z=B.delete||B.retain;return h.slice(_,_+z).forEach((tt=>{B.delete?v.push(tt):B.retain&&B.attributes&&v.retain(j.default.length(tt),A.default.invert(B.attributes,tt.attributes))})),_+z}if(typeof B.retain=="object"&&B.retain!==null){const z=h.slice(_,_+1),tt=new a.default(z.ops).next(),[rt,W,m]=l(B.retain,tt.insert),R=E.getHandler(rt);return v.retain({[rt]:R.invert(W,m)},A.default.invert(B.attributes,tt.attributes)),_+1}}return _}),0),v.chop()}transform(h,v=!1){if(v=!!v,typeof h=="number")return this.transformPosition(h,v);const _=h,B=new a.default(this.ops),z=new a.default(_.ops),tt=new E;for(;B.hasNext()||z.hasNext();)if(B.peekType()!=="insert"||!v&&z.peekType()==="insert")if(z.peekType()==="insert")tt.push(z.next());else{const rt=Math.min(B.peekLength(),z.peekLength()),W=B.next(rt),m=z.next(rt);if(W.delete)continue;if(m.delete)tt.push(m);else{const R=W.retain,K=m.retain;let M=typeof K=="object"&&K!==null?K:rt;if(typeof R=="object"&&R!==null&&typeof K=="object"&&K!==null){const G=Object.keys(R)[0];if(G===Object.keys(K)[0]){const it=E.getHandler(G);it&&(M={[G]:it.transform(R[G],K[G],v)})}}tt.retain(M,A.default.transform(W.attributes,m.attributes,v))}}else tt.retain(j.default.length(B.next()));return tt.chop()}transformPosition(h,v=!1){v=!!v;const _=new a.default(this.ops);let B=0;for(;_.hasNext()&&B<=h;){const z=_.peekLength(),tt=_.peekType();_.next(),tt!=="delete"?(tt==="insert"&&(B<h||!v)&&(h+=z),B+=z):h-=Math.min(z,h-B)}return h}}E.Op=j.default,E.OpIterator=a.default,E.AttributeMap=A.default,E.handlers={},C.default=E,Q.exports=E,Q.exports.default=E},4123:function(Q,C){"use strict";var e;Object.defineProperty(C,"__esModule",{value:!0}),(function(f){f.length=function(x){return typeof x.delete=="number"?x.delete:typeof x.retain=="number"?x.retain:typeof x.retain=="object"&&x.retain!==null?1:typeof x.insert=="string"?x.insert.length:1}})(e||(e={})),C.default=e},7033:function(Q,C,e){"use strict";Object.defineProperty(C,"__esModule",{value:!0});const f=e(4123);C.default=class{constructor(x){this.ops=x,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(x){x||(x=1/0);const O=this.ops[this.index];if(O){const A=this.offset,j=f.default.length(O);if(x>=j-A?(x=j-A,this.index+=1,this.offset=0):this.offset+=x,typeof O.delete=="number")return{delete:x};{const a={};return O.attributes&&(a.attributes=O.attributes),typeof O.retain=="number"?a.retain=x:typeof O.retain=="object"&&O.retain!==null?a.retain=O.retain:typeof O.insert=="string"?a.insert=O.insert.substr(A,x):a.insert=O.insert,a}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?f.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const x=this.ops[this.index];return x?typeof x.delete=="number"?"delete":typeof x.retain=="number"||typeof x.retain=="object"&&x.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const x=this.offset,O=this.index,A=this.next(),j=this.ops.slice(this.index);return this.offset=x,this.index=O,[A].concat(j)}}return[]}}},8820:function(Q,C,e){"use strict";e.d(C,{A:function(){return j}});var f=e(8138),x=function(a,k){for(var l=a.length;l--;)if((0,f.A)(a[l][0],k))return l;return-1},O=Array.prototype.splice;function A(a){var k=-1,l=a==null?0:a.length;for(this.clear();++k<l;){var E=a[k];this.set(E[0],E[1])}}A.prototype.clear=function(){this.__data__=[],this.size=0},A.prototype.delete=function(a){var k=this.__data__,l=x(k,a);return!(l<0||(l==k.length-1?k.pop():O.call(k,l,1),--this.size,0))},A.prototype.get=function(a){var k=this.__data__,l=x(k,a);return l<0?void 0:k[l][1]},A.prototype.has=function(a){return x(this.__data__,a)>-1},A.prototype.set=function(a,k){var l=this.__data__,E=x(l,a);return E<0?(++this.size,l.push([a,k])):l[E][1]=k,this};var j=A},2461:function(Q,C,e){"use strict";var f=e(2281),x=e(5507),O=(0,f.A)(x.A,"Map");C.A=O},3558:function(Q,C,e){"use strict";e.d(C,{A:function(){return T}});var f=(0,e(2281).A)(Object,"create"),x=Object.prototype.hasOwnProperty,O=Object.prototype.hasOwnProperty;function A(h){var v=-1,_=h==null?0:h.length;for(this.clear();++v<_;){var B=h[v];this.set(B[0],B[1])}}A.prototype.clear=function(){this.__data__=f?f(null):{},this.size=0},A.prototype.delete=function(h){var v=this.has(h)&&delete this.__data__[h];return this.size-=v?1:0,v},A.prototype.get=function(h){var v=this.__data__;if(f){var _=v[h];return _==="__lodash_hash_undefined__"?void 0:_}return x.call(v,h)?v[h]:void 0},A.prototype.has=function(h){var v=this.__data__;return f?v[h]!==void 0:O.call(v,h)},A.prototype.set=function(h,v){var _=this.__data__;return this.size+=this.has(h)?0:1,_[h]=f&&v===void 0?"__lodash_hash_undefined__":v,this};var j=A,a=e(8820),k=e(2461),l=function(h,v){var _,B,z=h.__data__;return((B=typeof(_=v))=="string"||B=="number"||B=="symbol"||B=="boolean"?_!=="__proto__":_===null)?z[typeof v=="string"?"string":"hash"]:z.map};function E(h){var v=-1,_=h==null?0:h.length;for(this.clear();++v<_;){var B=h[v];this.set(B[0],B[1])}}E.prototype.clear=function(){this.size=0,this.__data__={hash:new j,map:new(k.A||a.A),string:new j}},E.prototype.delete=function(h){var v=l(this,h).delete(h);return this.size-=v?1:0,v},E.prototype.get=function(h){return l(this,h).get(h)},E.prototype.has=function(h){return l(this,h).has(h)},E.prototype.set=function(h,v){var _=l(this,h),B=_.size;return _.set(h,v),this.size+=_.size==B?0:1,this};var T=E},2673:function(Q,C,e){"use strict";e.d(C,{A:function(){return j}});var f=e(8820),x=e(2461),O=e(3558);function A(a){var k=this.__data__=new f.A(a);this.size=k.size}A.prototype.clear=function(){this.__data__=new f.A,this.size=0},A.prototype.delete=function(a){var k=this.__data__,l=k.delete(a);return this.size=k.size,l},A.prototype.get=function(a){return this.__data__.get(a)},A.prototype.has=function(a){return this.__data__.has(a)},A.prototype.set=function(a,k){var l=this.__data__;if(l instanceof f.A){var E=l.__data__;if(!x.A||E.length<199)return E.push([a,k]),this.size=++l.size,this;l=this.__data__=new O.A(E)}return l.set(a,k),this.size=l.size,this};var j=A},439:function(Q,C,e){"use strict";var f=e(5507).A.Symbol;C.A=f},7218:function(Q,C,e){"use strict";var f=e(5507).A.Uint8Array;C.A=f},6753:function(Q,C,e){"use strict";e.d(C,{A:function(){return k}});var f=e(8412),x=e(723),O=e(776),A=e(3767),j=e(5755),a=Object.prototype.hasOwnProperty,k=function(l,E){var T=(0,x.A)(l),h=!T&&(0,f.A)(l),v=!T&&!h&&(0,O.A)(l),_=!T&&!h&&!v&&(0,j.A)(l),B=T||h||v||_,z=B?(function(W,m){for(var R=-1,K=Array(W);++R<W;)K[R]=m(R);return K})(l.length,String):[],tt=z.length;for(var rt in l)!E&&!a.call(l,rt)||B&&(rt=="length"||v&&(rt=="offset"||rt=="parent")||_&&(rt=="buffer"||rt=="byteLength"||rt=="byteOffset")||(0,A.A)(rt,tt))||z.push(rt);return z}},802:function(Q,C){"use strict";C.A=function(e,f){for(var x=-1,O=f.length,A=e.length;++x<O;)e[A+x]=f[x];return e}},6437:function(Q,C,e){"use strict";var f=e(6770),x=e(8138),O=Object.prototype.hasOwnProperty;C.A=function(A,j,a){var k=A[j];O.call(A,j)&&(0,x.A)(k,a)&&(a!==void 0||j in A)||(0,f.A)(A,j,a)}},6770:function(Q,C,e){"use strict";var f=e(7889);C.A=function(x,O,A){O=="__proto__"&&f.A?(0,f.A)(x,O,{configurable:!0,enumerable:!0,value:A,writable:!0}):x[O]=A}},1381:function(Q,C,e){"use strict";var f=e(802),x=e(723);C.A=function(O,A,j){var a=A(O);return(0,x.A)(O)?a:(0,f.A)(a,j(O))}},2159:function(Q,C,e){"use strict";e.d(C,{A:function(){return l}});var f=e(439),x=Object.prototype,O=x.hasOwnProperty,A=x.toString,j=f.A?f.A.toStringTag:void 0,a=Object.prototype.toString,k=f.A?f.A.toStringTag:void 0,l=function(E){return E==null?E===void 0?"[object Undefined]":"[object Null]":k&&k in Object(E)?(function(T){var h=O.call(T,j),v=T[j];try{T[j]=void 0;var _=!0}catch{}var B=A.call(T);return _&&(h?T[j]=v:delete T[j]),B})(E):(function(T){return a.call(T)})(E)}},5771:function(Q,C){"use strict";C.A=function(e){return function(f){return e(f)}}},2899:function(Q,C,e){"use strict";var f=e(7218);C.A=function(x){var O=new x.constructor(x.byteLength);return new f.A(O).set(new f.A(x)),O}},3812:function(Q,C,e){"use strict";var f=e(5507),x=typeof exports=="object"&&exports&&!exports.nodeType&&exports,O=x&&typeof module=="object"&&module&&!module.nodeType&&module,A=O&&O.exports===x?f.A.Buffer:void 0,j=A?A.allocUnsafe:void 0;C.A=function(a,k){if(k)return a.slice();var l=a.length,E=j?j(l):new a.constructor(l);return a.copy(E),E}},1827:function(Q,C,e){"use strict";var f=e(2899);C.A=function(x,O){var A=O?(0,f.A)(x.buffer):x.buffer;return new x.constructor(A,x.byteOffset,x.length)}},4405:function(Q,C){"use strict";C.A=function(e,f){var x=-1,O=e.length;for(f||(f=Array(O));++x<O;)f[x]=e[x];return f}},9601:function(Q,C,e){"use strict";var f=e(6437),x=e(6770);C.A=function(O,A,j,a){var k=!j;j||(j={});for(var l=-1,E=A.length;++l<E;){var T=A[l],h=a?a(j[T],O[T],T,j,O):void 0;h===void 0&&(h=O[T]),k?(0,x.A)(j,T,h):(0,f.A)(j,T,h)}return j}},7889:function(Q,C,e){"use strict";var f=e(2281),x=(function(){try{var O=(0,f.A)(Object,"defineProperty");return O({},"",{}),O}catch{}})();C.A=x},9646:function(Q,C){"use strict";var e=typeof global=="object"&&global&&global.Object===Object&&global;C.A=e},2816:function(Q,C,e){"use strict";var f=e(1381),x=e(9844),O=e(3169);C.A=function(A){return(0,f.A)(A,O.A,x.A)}},2281:function(Q,C,e){"use strict";e.d(C,{A:function(){return B}});var f,x=e(7572),O=e(5507).A["__core-js_shared__"],A=(f=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",j=e(659),a=e(1543),k=/^\[object .+?Constructor\]$/,l=Function.prototype,E=Object.prototype,T=l.toString,h=E.hasOwnProperty,v=RegExp("^"+T.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=function(z){return!(!(0,j.A)(z)||(tt=z,A&&A in tt))&&((0,x.A)(z)?v:k).test((0,a.A)(z));var tt},B=function(z,tt){var rt=(function(W,m){return W?.[m]})(z,tt);return _(rt)?rt:void 0}},8769:function(Q,C,e){"use strict";var f=(0,e(2217).A)(Object.getPrototypeOf,Object);C.A=f},9844:function(Q,C,e){"use strict";e.d(C,{A:function(){return A}});var f=e(6935),x=Object.prototype.propertyIsEnumerable,O=Object.getOwnPropertySymbols,A=O?function(j){return j==null?[]:(j=Object(j),(function(a,k){for(var l=-1,E=a==null?0:a.length,T=0,h=[];++l<E;){var v=a[l];k(v,l,a)&&(h[T++]=v)}return h})(O(j),(function(a){return x.call(j,a)})))}:f.A},7995:function(Q,C,e){"use strict";e.d(C,{A:function(){return K}});var f=e(2281),x=e(5507),O=(0,f.A)(x.A,"DataView"),A=e(2461),j=(0,f.A)(x.A,"Promise"),a=(0,f.A)(x.A,"Set"),k=(0,f.A)(x.A,"WeakMap"),l=e(2159),E=e(1543),T="[object Map]",h="[object Promise]",v="[object Set]",_="[object WeakMap]",B="[object DataView]",z=(0,E.A)(O),tt=(0,E.A)(A.A),rt=(0,E.A)(j),W=(0,E.A)(a),m=(0,E.A)(k),R=l.A;(O&&R(new O(new ArrayBuffer(1)))!=B||A.A&&R(new A.A)!=T||j&&R(j.resolve())!=h||a&&R(new a)!=v||k&&R(new k)!=_)&&(R=function(M){var G=(0,l.A)(M),it=G=="[object Object]"?M.constructor:void 0,nt=it?(0,E.A)(it):"";if(nt)switch(nt){case z:return B;case tt:return T;case rt:return h;case W:return v;case m:return _}return G});var K=R},1683:function(Q,C,e){"use strict";e.d(C,{A:function(){return a}});var f=e(659),x=Object.create,O=(function(){function k(){}return function(l){if(!(0,f.A)(l))return{};if(x)return x(l);k.prototype=l;var E=new k;return k.prototype=void 0,E}})(),A=e(8769),j=e(501),a=function(k){return typeof k.constructor!="function"||(0,j.A)(k)?{}:O((0,A.A)(k))}},3767:function(Q,C){"use strict";var e=/^(?:0|[1-9]\d*)$/;C.A=function(f,x){var O=typeof f;return!!(x=x??9007199254740991)&&(O=="number"||O!="symbol"&&e.test(f))&&f>-1&&f%1==0&&f<x}},501:function(Q,C){"use strict";var e=Object.prototype;C.A=function(f){var x=f&&f.constructor;return f===(typeof x=="function"&&x.prototype||e)}},8795:function(Q,C,e){"use strict";var f=e(9646),x=typeof exports=="object"&&exports&&!exports.nodeType&&exports,O=x&&typeof module=="object"&&module&&!module.nodeType&&module,A=O&&O.exports===x&&f.A.process,j=(function(){try{return O&&O.require&&O.require("util").types||A&&A.binding&&A.binding("util")}catch{}})();C.A=j},2217:function(Q,C){"use strict";C.A=function(e,f){return function(x){return e(f(x))}}},5507:function(Q,C,e){"use strict";var f=e(9646),x=typeof self=="object"&&self&&self.Object===Object&&self,O=f.A||x||Function("return this")();C.A=O},1543:function(Q,C){"use strict";var e=Function.prototype.toString;C.A=function(f){if(f!=null){try{return e.call(f)}catch{}try{return f+""}catch{}}return""}},3707:function(Q,C,e){"use strict";e.d(C,{A:function(){return s}});var f=e(2673),x=e(6437),O=e(9601),A=e(3169),j=e(2624),a=e(3812),k=e(4405),l=e(9844),E=e(802),T=e(8769),h=e(6935),v=Object.getOwnPropertySymbols?function(o){for(var d=[];o;)(0,E.A)(d,(0,l.A)(o)),o=(0,T.A)(o);return d}:h.A,_=e(2816),B=e(1381),z=function(o){return(0,B.A)(o,j.A,v)},tt=e(7995),rt=Object.prototype.hasOwnProperty,W=e(2899),m=/\w*$/,R=e(439),K=R.A?R.A.prototype:void 0,M=K?K.valueOf:void 0,G=e(1827),it=function(o,d,N){var S,U,$,V=o.constructor;switch(d){case"[object ArrayBuffer]":return(0,W.A)(o);case"[object Boolean]":case"[object Date]":return new V(+o);case"[object DataView]":return(function(Z,et){var at=et?(0,W.A)(Z.buffer):Z.buffer;return new Z.constructor(at,Z.byteOffset,Z.byteLength)})(o,N);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,G.A)(o,N);case"[object Map]":case"[object Set]":return new V;case"[object Number]":case"[object String]":return new V(o);case"[object RegExp]":return($=new(U=o).constructor(U.source,m.exec(U))).lastIndex=U.lastIndex,$;case"[object Symbol]":return S=o,M?Object(M.call(S)):{}}},nt=e(1683),ht=e(723),pt=e(776),J=e(7948),Y=e(5771),ot=e(8795),y=ot.A&&ot.A.isMap,t=y?(0,Y.A)(y):function(o){return(0,J.A)(o)&&(0,tt.A)(o)=="[object Map]"},n=e(659),r=ot.A&&ot.A.isSet,L=r?(0,Y.A)(r):function(o){return(0,J.A)(o)&&(0,tt.A)(o)=="[object Set]"},c="[object Arguments]",p="[object Function]",w="[object Object]",q={};q[c]=q["[object Array]"]=q["[object ArrayBuffer]"]=q["[object DataView]"]=q["[object Boolean]"]=q["[object Date]"]=q["[object Float32Array]"]=q["[object Float64Array]"]=q["[object Int8Array]"]=q["[object Int16Array]"]=q["[object Int32Array]"]=q["[object Map]"]=q["[object Number]"]=q[w]=q["[object RegExp]"]=q["[object Set]"]=q["[object String]"]=q["[object Symbol]"]=q["[object Uint8Array]"]=q["[object Uint8ClampedArray]"]=q["[object Uint16Array]"]=q["[object Uint32Array]"]=!0,q["[object Error]"]=q[p]=q["[object WeakMap]"]=!1;var g=function o(d,N,S,U,$,V){var Z,et=1&N,at=2&N,lt=4&N;if(S&&(Z=$?S(d,U,$,V):S(d)),Z!==void 0)return Z;if(!(0,n.A)(d))return d;var mt=(0,ht.A)(d);if(mt){if(Z=(function(ut){var bt=ut.length,xt=new ut.constructor(bt);return bt&&typeof ut[0]=="string"&&rt.call(ut,"index")&&(xt.index=ut.index,xt.input=ut.input),xt})(d),!et)return(0,k.A)(d,Z)}else{var dt=(0,tt.A)(d),ft=dt==p||dt=="[object GeneratorFunction]";if((0,pt.A)(d))return(0,a.A)(d,et);if(dt==w||dt==c||ft&&!$){if(Z=at||ft?{}:(0,nt.A)(d),!et)return at?(function(ut,bt){return(0,O.A)(ut,v(ut),bt)})(d,(function(ut,bt){return ut&&(0,O.A)(bt,(0,j.A)(bt),ut)})(Z,d)):(function(ut,bt){return(0,O.A)(ut,(0,l.A)(ut),bt)})(d,(function(ut,bt){return ut&&(0,O.A)(bt,(0,A.A)(bt),ut)})(Z,d))}else{if(!q[dt])return $?d:{};Z=it(d,dt,et)}}V||(V=new f.A);var wt=V.get(d);if(wt)return wt;V.set(d,Z),L(d)?d.forEach((function(ut){Z.add(o(ut,N,S,ut,d,V))})):t(d)&&d.forEach((function(ut,bt){Z.set(bt,o(ut,N,S,bt,d,V))}));var Tt=lt?at?z:_.A:at?j.A:A.A,Lt=mt?void 0:Tt(d);return(function(ut,bt){for(var xt=-1,St=ut==null?0:ut.length;++xt<St&&bt(ut[xt],xt,ut)!==!1;);})(Lt||d,(function(ut,bt){Lt&&(ut=d[bt=ut]),(0,x.A)(Z,bt,o(ut,N,S,bt,d,V))})),Z},s=function(o){return g(o,5)}},8138:function(Q,C){"use strict";C.A=function(e,f){return e===f||e!=e&&f!=f}},8412:function(Q,C,e){"use strict";e.d(C,{A:function(){return l}});var f=e(2159),x=e(7948),O=function(E){return(0,x.A)(E)&&(0,f.A)(E)=="[object Arguments]"},A=Object.prototype,j=A.hasOwnProperty,a=A.propertyIsEnumerable,k=O((function(){return arguments})())?O:function(E){return(0,x.A)(E)&&j.call(E,"callee")&&!a.call(E,"callee")},l=k},723:function(Q,C){"use strict";var e=Array.isArray;C.A=e},3628:function(Q,C,e){"use strict";var f=e(7572),x=e(1628);C.A=function(O){return O!=null&&(0,x.A)(O.length)&&!(0,f.A)(O)}},776:function(Q,C,e){"use strict";e.d(C,{A:function(){return j}});var f=e(5507),x=typeof exports=="object"&&exports&&!exports.nodeType&&exports,O=x&&typeof module=="object"&&module&&!module.nodeType&&module,A=O&&O.exports===x?f.A.Buffer:void 0,j=(A?A.isBuffer:void 0)||function(){return!1}},5123:function(Q,C,e){"use strict";e.d(C,{A:function(){return pt}});var f=e(2673),x=e(3558);function O(J){var Y=-1,ot=J==null?0:J.length;for(this.__data__=new x.A;++Y<ot;)this.add(J[Y])}O.prototype.add=O.prototype.push=function(J){return this.__data__.set(J,"__lodash_hash_undefined__"),this},O.prototype.has=function(J){return this.__data__.has(J)};var A=O,j=function(J,Y){for(var ot=-1,y=J==null?0:J.length;++ot<y;)if(Y(J[ot],ot,J))return!0;return!1},a=function(J,Y,ot,y,t,n){var r=1&ot,L=J.length,c=Y.length;if(L!=c&&!(r&&c>L))return!1;var p=n.get(J),w=n.get(Y);if(p&&w)return p==Y&&w==J;var q=-1,g=!0,s=2&ot?new A:void 0;for(n.set(J,Y),n.set(Y,J);++q<L;){var o=J[q],d=Y[q];if(y)var N=r?y(d,o,q,Y,J,n):y(o,d,q,J,Y,n);if(N!==void 0){if(N)continue;g=!1;break}if(s){if(!j(Y,(function(S,U){if($=U,!s.has($)&&(o===S||t(o,S,ot,y,n)))return s.push(U);var $}))){g=!1;break}}else if(o!==d&&!t(o,d,ot,y,n)){g=!1;break}}return n.delete(J),n.delete(Y),g},k=e(439),l=e(7218),E=e(8138),T=function(J){var Y=-1,ot=Array(J.size);return J.forEach((function(y,t){ot[++Y]=[t,y]})),ot},h=function(J){var Y=-1,ot=Array(J.size);return J.forEach((function(y){ot[++Y]=y})),ot},v=k.A?k.A.prototype:void 0,_=v?v.valueOf:void 0,B=e(2816),z=Object.prototype.hasOwnProperty,tt=e(7995),rt=e(723),W=e(776),m=e(5755),R="[object Arguments]",K="[object Array]",M="[object Object]",G=Object.prototype.hasOwnProperty,it=function(J,Y,ot,y,t,n){var r=(0,rt.A)(J),L=(0,rt.A)(Y),c=r?K:(0,tt.A)(J),p=L?K:(0,tt.A)(Y),w=(c=c==R?M:c)==M,q=(p=p==R?M:p)==M,g=c==p;if(g&&(0,W.A)(J)){if(!(0,W.A)(Y))return!1;r=!0,w=!1}if(g&&!w)return n||(n=new f.A),r||(0,m.A)(J)?a(J,Y,ot,y,t,n):(function(S,U,$,V,Z,et,at){switch($){case"[object DataView]":if(S.byteLength!=U.byteLength||S.byteOffset!=U.byteOffset)return!1;S=S.buffer,U=U.buffer;case"[object ArrayBuffer]":return!(S.byteLength!=U.byteLength||!et(new l.A(S),new l.A(U)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,E.A)(+S,+U);case"[object Error]":return S.name==U.name&&S.message==U.message;case"[object RegExp]":case"[object String]":return S==U+"";case"[object Map]":var lt=T;case"[object Set]":var mt=1&V;if(lt||(lt=h),S.size!=U.size&&!mt)return!1;var dt=at.get(S);if(dt)return dt==U;V|=2,at.set(S,U);var ft=a(lt(S),lt(U),V,Z,et,at);return at.delete(S),ft;case"[object Symbol]":if(_)return _.call(S)==_.call(U)}return!1})(J,Y,c,ot,y,t,n);if(!(1&ot)){var s=w&&G.call(J,"__wrapped__"),o=q&&G.call(Y,"__wrapped__");if(s||o){var d=s?J.value():J,N=o?Y.value():Y;return n||(n=new f.A),t(d,N,ot,y,n)}}return!!g&&(n||(n=new f.A),(function(S,U,$,V,Z,et){var at=1&$,lt=(0,B.A)(S),mt=lt.length;if(mt!=(0,B.A)(U).length&&!at)return!1;for(var dt=mt;dt--;){var ft=lt[dt];if(!(at?ft in U:z.call(U,ft)))return!1}var wt=et.get(S),Tt=et.get(U);if(wt&&Tt)return wt==U&&Tt==S;var Lt=!0;et.set(S,U),et.set(U,S);for(var ut=at;++dt<mt;){var bt=S[ft=lt[dt]],xt=U[ft];if(V)var St=at?V(xt,bt,ft,U,S,et):V(bt,xt,ft,S,U,et);if(!(St===void 0?bt===xt||Z(bt,xt,$,V,et):St)){Lt=!1;break}ut||(ut=ft=="constructor")}if(Lt&&!ut){var Nt=S.constructor,jt=U.constructor;Nt==jt||!("constructor"in S)||!("constructor"in U)||typeof Nt=="function"&&Nt instanceof Nt&&typeof jt=="function"&&jt instanceof jt||(Lt=!1)}return et.delete(S),et.delete(U),Lt})(J,Y,ot,y,t,n))},nt=e(7948),ht=function J(Y,ot,y,t,n){return Y===ot||(Y==null||ot==null||!(0,nt.A)(Y)&&!(0,nt.A)(ot)?Y!=Y&&ot!=ot:it(Y,ot,y,t,J,n))},pt=function(J,Y){return ht(J,Y)}},7572:function(Q,C,e){"use strict";var f=e(2159),x=e(659);C.A=function(O){if(!(0,x.A)(O))return!1;var A=(0,f.A)(O);return A=="[object Function]"||A=="[object GeneratorFunction]"||A=="[object AsyncFunction]"||A=="[object Proxy]"}},1628:function(Q,C){"use strict";C.A=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991}},659:function(Q,C){"use strict";C.A=function(e){var f=typeof e;return e!=null&&(f=="object"||f=="function")}},7948:function(Q,C){"use strict";C.A=function(e){return e!=null&&typeof e=="object"}},5755:function(Q,C,e){"use strict";e.d(C,{A:function(){return l}});var f=e(2159),x=e(1628),O=e(7948),A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Arguments]"]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object Boolean]"]=A["[object DataView]"]=A["[object Date]"]=A["[object Error]"]=A["[object Function]"]=A["[object Map]"]=A["[object Number]"]=A["[object Object]"]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object WeakMap]"]=!1;var j=e(5771),a=e(8795),k=a.A&&a.A.isTypedArray,l=k?(0,j.A)(k):function(E){return(0,O.A)(E)&&(0,x.A)(E.length)&&!!A[(0,f.A)(E)]}},3169:function(Q,C,e){"use strict";e.d(C,{A:function(){return a}});var f=e(6753),x=e(501),O=(0,e(2217).A)(Object.keys,Object),A=Object.prototype.hasOwnProperty,j=e(3628),a=function(k){return(0,j.A)(k)?(0,f.A)(k):(function(l){if(!(0,x.A)(l))return O(l);var E=[];for(var T in Object(l))A.call(l,T)&&T!="constructor"&&E.push(T);return E})(k)}},2624:function(Q,C,e){"use strict";e.d(C,{A:function(){return k}});var f=e(6753),x=e(659),O=e(501),A=Object.prototype.hasOwnProperty,j=function(l){if(!(0,x.A)(l))return(function(v){var _=[];if(v!=null)for(var B in Object(v))_.push(B);return _})(l);var E=(0,O.A)(l),T=[];for(var h in l)(h!="constructor"||!E&&A.call(l,h))&&T.push(h);return T},a=e(3628),k=function(l){return(0,a.A)(l)?(0,f.A)(l,!0):j(l)}},8347:function(Q,C,e){"use strict";e.d(C,{A:function(){return o}});var f,x,O,A,j=e(2673),a=e(6770),k=e(8138),l=function(d,N,S){(S!==void 0&&!(0,k.A)(d[N],S)||S===void 0&&!(N in d))&&(0,a.A)(d,N,S)},E=function(d,N,S){for(var U=-1,$=Object(d),V=S(d),Z=V.length;Z--;){var et=V[++U];if(N($[et],et,$)===!1)break}return d},T=e(3812),h=e(1827),v=e(4405),_=e(1683),B=e(8412),z=e(723),tt=e(3628),rt=e(7948),W=e(776),m=e(7572),R=e(659),K=e(2159),M=e(8769),G=Function.prototype,it=Object.prototype,nt=G.toString,ht=it.hasOwnProperty,pt=nt.call(Object),J=e(5755),Y=function(d,N){if((N!=="constructor"||typeof d[N]!="function")&&N!="__proto__")return d[N]},ot=e(9601),y=e(2624),t=function(d,N,S,U,$,V,Z){var et,at=Y(d,S),lt=Y(N,S),mt=Z.get(lt);if(mt)l(d,S,mt);else{var dt=V?V(at,lt,S+"",d,N,Z):void 0,ft=dt===void 0;if(ft){var wt=(0,z.A)(lt),Tt=!wt&&(0,W.A)(lt),Lt=!wt&&!Tt&&(0,J.A)(lt);dt=lt,wt||Tt||Lt?(0,z.A)(at)?dt=at:(et=at,(0,rt.A)(et)&&(0,tt.A)(et)?dt=(0,v.A)(at):Tt?(ft=!1,dt=(0,T.A)(lt,!0)):Lt?(ft=!1,dt=(0,h.A)(lt,!0)):dt=[]):(function(ut){if(!(0,rt.A)(ut)||(0,K.A)(ut)!="[object Object]")return!1;var bt=(0,M.A)(ut);if(bt===null)return!0;var xt=ht.call(bt,"constructor")&&bt.constructor;return typeof xt=="function"&&xt instanceof xt&&nt.call(xt)==pt})(lt)||(0,B.A)(lt)?(dt=at,(0,B.A)(at)?dt=(function(ut){return(0,ot.A)(ut,(0,y.A)(ut))})(at):(0,R.A)(at)&&!(0,m.A)(at)||(dt=(0,_.A)(lt))):ft=!1}ft&&(Z.set(lt,dt),$(dt,lt,U,V,Z),Z.delete(lt)),l(d,S,dt)}},n=function d(N,S,U,$,V){N!==S&&E(S,(function(Z,et){if(V||(V=new j.A),(0,R.A)(Z))t(N,S,et,U,d,$,V);else{var at=$?$(Y(N,et),Z,et+"",N,S,V):void 0;at===void 0&&(at=Z),l(N,et,at)}}),y.A)},r=function(d){return d},L=Math.max,c=e(7889),p=c.A?function(d,N){return(0,c.A)(d,"toString",{configurable:!0,enumerable:!1,value:(S=N,function(){return S}),writable:!0});var S}:r,w=Date.now,q=(f=p,x=0,O=0,function(){var d=w(),N=16-(d-O);if(O=d,N>0){if(++x>=800)return arguments[0]}else x=0;return f.apply(void 0,arguments)}),g=function(d,N){return q((function(S,U,$){return U=L(U===void 0?S.length-1:U,0),function(){for(var V=arguments,Z=-1,et=L(V.length-U,0),at=Array(et);++Z<et;)at[Z]=V[U+Z];Z=-1;for(var lt=Array(U+1);++Z<U;)lt[Z]=V[Z];return lt[U]=$(at),(function(mt,dt,ft){switch(ft.length){case 0:return mt.call(dt);case 1:return mt.call(dt,ft[0]);case 2:return mt.call(dt,ft[0],ft[1]);case 3:return mt.call(dt,ft[0],ft[1],ft[2])}return mt.apply(dt,ft)})(S,this,lt)}})(d,N,r),d+"")},s=e(3767),o=(A=function(d,N,S){n(d,N,S)},g((function(d,N){var S=-1,U=N.length,$=U>1?N[U-1]:void 0,V=U>2?N[2]:void 0;for($=A.length>3&&typeof $=="function"?(U--,$):void 0,V&&(function(et,at,lt){if(!(0,R.A)(lt))return!1;var mt=typeof at;return!!(mt=="number"?(0,tt.A)(lt)&&(0,s.A)(at,lt.length):mt=="string"&&at in lt)&&(0,k.A)(lt[at],et)})(N[0],N[1],V)&&($=U<3?void 0:$,U=1),d=Object(d);++S<U;){var Z=N[S];Z&&A(d,Z,S)}return d})))},6935:function(Q,C){"use strict";C.A=function(){return[]}},6003:function(Q,C,e){"use strict";e.r(C),e.d(C,{Attributor:function(){return x},AttributorStore:function(){return T},BlockBlot:function(){return M},ClassAttributor:function(){return k},ContainerBlot:function(){return it},EmbedBlot:function(){return nt},InlineBlot:function(){return R},LeafBlot:function(){return B},ParentBlot:function(){return W},Registry:function(){return j},Scope:function(){return f},ScrollBlot:function(){return J},StyleAttributor:function(){return E},TextBlot:function(){return ot}});var f=(y=>(y[y.TYPE=3]="TYPE",y[y.LEVEL=12]="LEVEL",y[y.ATTRIBUTE=13]="ATTRIBUTE",y[y.BLOT=14]="BLOT",y[y.INLINE=7]="INLINE",y[y.BLOCK=11]="BLOCK",y[y.BLOCK_BLOT=10]="BLOCK_BLOT",y[y.INLINE_BLOT=6]="INLINE_BLOT",y[y.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",y[y.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",y[y.ANY=15]="ANY",y))(f||{});class x{constructor(t,n,r={}){this.attrName=t,this.keyName=n;const L=f.TYPE&f.ATTRIBUTE;this.scope=r.scope!=null?r.scope&f.LEVEL|L:f.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(t){return Array.from(t.attributes).map((n=>n.name))}add(t,n){return!!this.canAdd(t,n)&&(t.setAttribute(this.keyName,n),!0)}canAdd(t,n){return this.whitelist==null||(typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1)}remove(t){t.removeAttribute(this.keyName)}value(t){const n=t.getAttribute(this.keyName);return this.canAdd(t,n)&&n?n:""}}class O extends Error{constructor(t){super(t="[Parchment] "+t),this.message=t,this.name=this.constructor.name}}const A=class Pe{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,n=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(n){let r=null;try{r=t.parentNode}catch{return null}return this.find(r,n)}return null}create(t,n,r){const L=this.query(n);if(L==null)throw new O(`Unable to create ${n} blot`);const c=L,p=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:c.create(r),w=new c(t,p,r);return Pe.blots.set(w.domNode,w),w}find(t,n=!1){return Pe.find(t,n)}query(t,n=f.ANY){let r;return typeof t=="string"?r=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?r=this.types.text:typeof t=="number"?t&f.LEVEL&f.BLOCK?r=this.types.block:t&f.LEVEL&f.INLINE&&(r=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some((L=>(r=this.classes[L],!!r))),r=r||this.tags[t.tagName]),r==null?null:"scope"in r&&n&f.LEVEL&r.scope&&n&f.TYPE&r.scope?r:null}register(...t){return t.map((n=>{const r="blotName"in n,L="attrName"in n;if(!r&&!L)throw new O("Invalid definition");if(r&&n.blotName==="abstract")throw new O("Cannot register abstract class");const c=r?n.blotName:L?n.attrName:void 0;return this.types[c]=n,L?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):r&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map((p=>p.toUpperCase())):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach((p=>{(this.tags[p]==null||n.className==null)&&(this.tags[p]=n)})))),n}))}};A.blots=new WeakMap;let j=A;function a(y,t){return(y.getAttribute("class")||"").split(/\s+/).filter((n=>n.indexOf(`${t}-`)===0))}const k=class extends x{static keys(y){return(y.getAttribute("class")||"").split(/\s+/).map((t=>t.split("-").slice(0,-1).join("-")))}add(y,t){return!!this.canAdd(y,t)&&(this.remove(y),y.classList.add(`${this.keyName}-${t}`),!0)}remove(y){a(y,this.keyName).forEach((t=>{y.classList.remove(t)})),y.classList.length===0&&y.removeAttribute("class")}value(y){const t=(a(y,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(y,t)?t:""}};function l(y){const t=y.split("-"),n=t.slice(1).map((r=>r[0].toUpperCase()+r.slice(1))).join("");return t[0]+n}const E=class extends x{static keys(y){return(y.getAttribute("style")||"").split(";").map((t=>t.split(":")[0].trim()))}add(y,t){return!!this.canAdd(y,t)&&(y.style[l(this.keyName)]=t,!0)}remove(y){y.style[l(this.keyName)]="",y.getAttribute("style")||y.removeAttribute("style")}value(y){const t=y.style[l(this.keyName)];return this.canAdd(y,t)?t:""}},T=class{constructor(y){this.attributes={},this.domNode=y,this.build()}attribute(y,t){t?y.add(this.domNode,t)&&(y.value(this.domNode)!=null?this.attributes[y.attrName]=y:delete this.attributes[y.attrName]):(y.remove(this.domNode),delete this.attributes[y.attrName])}build(){this.attributes={};const y=j.find(this.domNode);if(y==null)return;const t=x.keys(this.domNode),n=k.keys(this.domNode),r=E.keys(this.domNode);t.concat(n).concat(r).forEach((L=>{const c=y.scroll.query(L,f.ATTRIBUTE);c instanceof x&&(this.attributes[c.attrName]=c)}))}copy(y){Object.keys(this.attributes).forEach((t=>{const n=this.attributes[t].value(this.domNode);y.format(t,n)}))}move(y){this.copy(y),Object.keys(this.attributes).forEach((t=>{this.attributes[t].remove(this.domNode)})),this.attributes={}}values(){return Object.keys(this.attributes).reduce(((y,t)=>(y[t]=this.attributes[t].value(this.domNode),y)),{})}},h=class{constructor(y,t){this.scroll=y,this.domNode=t,j.blots.set(t,this),this.prev=null,this.next=null}static create(y){if(this.tagName==null)throw new O("Blot definition missing tagName");let t,n;return Array.isArray(this.tagName)?(typeof y=="string"?(n=y.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof y=="number"&&(n=y),t=typeof n=="number"?document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?document.createElement(n):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const y=this.domNode.cloneNode(!1);return this.scroll.create(y)}detach(){this.parent!=null&&this.parent.removeChild(this),j.blots.delete(this.domNode)}deleteAt(y,t){this.isolate(y,t).remove()}formatAt(y,t,n,r){const L=this.isolate(y,t);if(this.scroll.query(n,f.BLOT)!=null&&r)L.wrap(n,r);else if(this.scroll.query(n,f.ATTRIBUTE)!=null){const c=this.scroll.create(this.statics.scope);L.wrap(c),c.format(n,r)}}insertAt(y,t,n){const r=n==null?this.scroll.create("text",t):this.scroll.create(t,n),L=this.split(y);this.parent.insertBefore(r,L||void 0)}isolate(y,t){const n=this.split(y);if(n==null)throw new Error("Attempt to isolate at end");return n.split(t),n}length(){return 1}offset(y=this.parent){return this.parent==null||this===y?0:this.parent.children.offset(this)+this.parent.offset(y)}optimize(y){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(y,t){const n=typeof y=="string"?this.scroll.create(y,t):y;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(y,t){return y===0?this:this.next}update(y,t){}wrap(y,t){const n=typeof y=="string"?this.scroll.create(y,t):y;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new O(`Cannot wrap ${y}`);return n.appendChild(this),n}};h.blotName="abstract";let v=h;const _=class extends v{static value(y){return!0}index(y,t){return this.domNode===y||this.domNode.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(y,t){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return y>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};_.scope=f.INLINE_BLOT;const B=_;class z{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const n=t.slice(1);this.append(...n)}}at(t){const n=this.iterator();let r=n();for(;r&&t>0;)t-=1,r=n();return r}contains(t){const n=this.iterator();let r=n();for(;r;){if(r===t)return!0;r=n()}return!1}indexOf(t){const n=this.iterator();let r=n(),L=0;for(;r;){if(r===t)return L;L+=1,r=n()}return-1}insertBefore(t,n){t!=null&&(this.remove(t),t.next=n,n!=null?(t.prev=n.prev,n.prev!=null&&(n.prev.next=t),n.prev=t,n===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let n=0,r=this.head;for(;r!=null;){if(r===t)return n;n+=r.length(),r=r.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const n=t;return t!=null&&(t=t.next),n}}find(t,n=!1){const r=this.iterator();let L=r();for(;L;){const c=L.length();if(t<c||n&&t===c&&(L.next==null||L.next.length()!==0))return[L,t];t-=c,L=r()}return[null,0]}forEach(t){const n=this.iterator();let r=n();for(;r;)t(r),r=n()}forEachAt(t,n,r){if(n<=0)return;const[L,c]=this.find(t);let p=t-c;const w=this.iterator(L);let q=w();for(;q&&p<t+n;){const g=q.length();t>p?r(q,t-p,Math.min(n,p+g-t)):r(q,0,Math.min(g,t+n-p)),p+=g,q=w()}}map(t){return this.reduce(((n,r)=>(n.push(t(r)),n)),[])}reduce(t,n){const r=this.iterator();let L=r();for(;L;)n=t(n,L),L=r();return n}}function tt(y,t){const n=t.find(y);if(n)return n;try{return t.create(y)}catch{const r=t.create(f.INLINE);return Array.from(y.childNodes).forEach((L=>{r.domNode.appendChild(L)})),y.parentNode&&y.parentNode.replaceChild(r.domNode,y),r.attach(),r}}const rt=class ve extends v{constructor(t,n){super(t,n),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach((t=>{t.attach()}))}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,ve.uiClass&&this.uiNode.classList.add(ve.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new z,Array.from(this.domNode.childNodes).filter((t=>t!==this.uiNode)).reverse().forEach((t=>{try{const n=tt(t,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof O)return;throw n}}))}deleteAt(t,n){if(t===0&&n===this.length())return this.remove();this.children.forEachAt(t,n,((r,L,c)=>{r.deleteAt(L,c)}))}descendant(t,n=0){const[r,L]=this.children.find(n);return t.blotName==null&&t(r)||t.blotName!=null&&r instanceof t?[r,L]:r instanceof ve?r.descendant(t,L):[null,-1]}descendants(t,n=0,r=Number.MAX_VALUE){let L=[],c=r;return this.children.forEachAt(n,r,((p,w,q)=>{(t.blotName==null&&t(p)||t.blotName!=null&&p instanceof t)&&L.push(p),p instanceof ve&&(L=L.concat(p.descendants(t,w,c))),c-=q})),L}detach(){this.children.forEach((t=>{t.detach()})),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach((n=>{t||this.statics.allowedChildren.some((r=>n instanceof r))||(n.statics.scope===f.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),t=!0):n instanceof ve?n.unwrap():n.remove())}))}formatAt(t,n,r,L){this.children.forEachAt(t,n,((c,p,w)=>{c.formatAt(p,w,r,L)}))}insertAt(t,n,r){const[L,c]=this.children.find(t);if(L)L.insertAt(c,n,r);else{const p=r==null?this.scroll.create("text",n):this.scroll.create(n,r);this.appendChild(p)}}insertBefore(t,n){t.parent!=null&&t.parent.children.remove(t);let r=null;this.children.insertBefore(t,n||null),t.parent=this,n!=null&&(r=n.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(t.domNode,r),t.attach()}length(){return this.children.reduce(((t,n)=>t+n.length()),0)}moveChildren(t,n){this.children.forEach((r=>{t.insertBefore(r,n)}))}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(t,n=!1){const[r,L]=this.children.find(t,n),c=[[this,t]];return r instanceof ve?c.concat(r.path(L,n)):(r!=null&&c.push([r,L]),c)}removeChild(t){this.children.remove(t)}replaceWith(t,n){const r=typeof t=="string"?this.scroll.create(t,n):t;return r instanceof ve&&this.moveChildren(r),super.replaceWith(r)}split(t,n=!1){if(!n){if(t===0)return this;if(t===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(t,this.length(),((L,c,p)=>{const w=L.split(c,n);w!=null&&r.appendChild(w)})),r}splitAfter(t){const n=this.clone();for(;t.next!=null;)n.appendChild(t.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,n){const r=[],L=[];t.forEach((c=>{c.target===this.domNode&&c.type==="childList"&&(r.push(...c.addedNodes),L.push(...c.removedNodes))})),L.forEach((c=>{if(c.parentNode!=null&&c.tagName!=="IFRAME"&&document.body.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const p=this.scroll.find(c);p!=null&&(p.domNode.parentNode==null||p.domNode.parentNode===this.domNode)&&p.detach()})),r.filter((c=>c.parentNode===this.domNode&&c!==this.uiNode)).sort(((c,p)=>c===p?0:c.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1)).forEach((c=>{let p=null;c.nextSibling!=null&&(p=this.scroll.find(c.nextSibling));const w=tt(c,this.scroll);(w.next!==p||w.next==null)&&(w.parent!=null&&w.parent.removeChild(this),this.insertBefore(w,p||void 0))})),this.enforceAllowedChildren()}};rt.uiClass="";const W=rt,m=class ke extends W{static create(t){return super.create(t)}static formats(t,n){const r=n.query(ke.blotName);if(r==null||t.tagName!==r.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,n){super(t,n),this.attributes=new T(this.domNode)}format(t,n){if(t!==this.statics.blotName||n){const r=this.scroll.query(t,f.INLINE);if(r==null)return;r instanceof x?this.attributes.attribute(r,n):n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n)}else this.children.forEach((r=>{r instanceof ke||(r=r.wrap(ke.blotName,!0)),this.attributes.copy(r)})),this.unwrap()}formats(){const t=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(t[this.statics.blotName]=n),t}formatAt(t,n,r,L){this.formats()[r]!=null||this.scroll.query(r,f.ATTRIBUTE)?this.isolate(t,n).format(r,L):super.formatAt(t,n,r,L)}optimize(t){super.optimize(t);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const r=this.next;r instanceof ke&&r.prev===this&&(function(L,c){if(Object.keys(L).length!==Object.keys(c).length)return!1;for(const p in L)if(L[p]!==c[p])return!1;return!0})(n,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(t,n){const r=super.replaceWith(t,n);return this.attributes.copy(r),r}update(t,n){super.update(t,n),t.some((r=>r.target===this.domNode&&r.type==="attributes"))&&this.attributes.build()}wrap(t,n){const r=super.wrap(t,n);return r instanceof ke&&this.attributes.move(r),r}};m.allowedChildren=[m,B],m.blotName="inline",m.scope=f.INLINE_BLOT,m.tagName="SPAN";const R=m,K=class ze extends W{static create(t){return super.create(t)}static formats(t,n){const r=n.query(ze.blotName);if(r==null||t.tagName!==r.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,n){super(t,n),this.attributes=new T(this.domNode)}format(t,n){const r=this.scroll.query(t,f.BLOCK);r!=null&&(r instanceof x?this.attributes.attribute(r,n):t!==this.statics.blotName||n?n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n):this.replaceWith(ze.blotName))}formats(){const t=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(t[this.statics.blotName]=n),t}formatAt(t,n,r,L){this.scroll.query(r,f.BLOCK)!=null?this.format(r,L):super.formatAt(t,n,r,L)}insertAt(t,n,r){if(r==null||this.scroll.query(n,f.INLINE)!=null)super.insertAt(t,n,r);else{const L=this.split(t);if(L==null)throw new Error("Attempt to insertAt after block boundaries");{const c=this.scroll.create(n,r);L.parent.insertBefore(c,L)}}}replaceWith(t,n){const r=super.replaceWith(t,n);return this.attributes.copy(r),r}update(t,n){super.update(t,n),t.some((r=>r.target===this.domNode&&r.type==="attributes"))&&this.attributes.build()}};K.blotName="block",K.scope=f.BLOCK_BLOT,K.tagName="P",K.allowedChildren=[R,K,B];const M=K,G=class extends W{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(y,t){super.deleteAt(y,t),this.enforceAllowedChildren()}formatAt(y,t,n,r){super.formatAt(y,t,n,r),this.enforceAllowedChildren()}insertAt(y,t,n){super.insertAt(y,t,n),this.enforceAllowedChildren()}optimize(y){super.optimize(y),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};G.blotName="container",G.scope=f.BLOCK_BLOT;const it=G,nt=class extends B{static formats(y,t){}format(y,t){super.formatAt(0,this.length(),y,t)}formatAt(y,t,n,r){y===0&&t===this.length()?this.format(n,r):super.formatAt(y,t,n,r)}formats(){return this.statics.formats(this.domNode,this.scroll)}},ht={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},pt=class extends W{constructor(y,t){super(null,t),this.registry=y,this.scroll=this,this.build(),this.observer=new MutationObserver((n=>{this.update(n)})),this.observer.observe(this.domNode,ht),this.attach()}create(y,t){return this.registry.create(this,y,t)}find(y,t=!1){const n=this.registry.find(y,t);return n?n.scroll===this?n:t?this.find(n.scroll.domNode.parentNode,!0):null:null}query(y,t=f.ANY){return this.registry.query(y,t)}register(...y){return this.registry.register(...y)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(y,t){this.update(),y===0&&t===this.length()?this.children.forEach((n=>{n.remove()})):super.deleteAt(y,t)}formatAt(y,t,n,r){this.update(),super.formatAt(y,t,n,r)}insertAt(y,t,n){this.update(),super.insertAt(y,t,n)}optimize(y=[],t={}){super.optimize(t);const n=t.mutationsMap||new WeakMap;let r=Array.from(this.observer.takeRecords());for(;r.length>0;)y.push(r.pop());const L=(w,q=!0)=>{w==null||w===this||w.domNode.parentNode!=null&&(n.has(w.domNode)||n.set(w.domNode,[]),q&&L(w.parent))},c=w=>{n.has(w.domNode)&&(w instanceof W&&w.children.forEach(c),n.delete(w.domNode),w.optimize(t))};let p=y;for(let w=0;p.length>0;w+=1){if(w>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(p.forEach((q=>{const g=this.find(q.target,!0);g!=null&&(g.domNode===q.target&&(q.type==="childList"?(L(this.find(q.previousSibling,!1)),Array.from(q.addedNodes).forEach((s=>{const o=this.find(s,!1);L(o,!1),o instanceof W&&o.children.forEach((d=>{L(d,!1)}))}))):q.type==="attributes"&&L(g.prev)),L(g))})),this.children.forEach(c),p=Array.from(this.observer.takeRecords()),r=p.slice();r.length>0;)y.push(r.pop())}}update(y,t={}){y=y||this.observer.takeRecords();const n=new WeakMap;y.map((r=>{const L=this.find(r.target,!0);return L==null?null:n.has(L.domNode)?(n.get(L.domNode).push(r),null):(n.set(L.domNode,[r]),L)})).forEach((r=>{r!=null&&r!==this&&n.has(r.domNode)&&r.update(n.get(r.domNode)||[],t)})),t.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),t),this.optimize(y,t)}};pt.blotName="scroll",pt.defaultChild=M,pt.allowedChildren=[M,it],pt.scope=f.BLOCK_BLOT,pt.tagName="DIV";const J=pt,Y=class Ve extends B{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,n){super(t,n),this.text=this.statics.value(this.domNode)}deleteAt(t,n){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+n)}index(t,n){return this.domNode===t?n:-1}insertAt(t,n,r){r==null?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,n,r)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Ve&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,n=!1){return[this.domNode,t]}split(t,n=!1){if(!n){if(t===0)return this;if(t===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(t,n){t.some((r=>r.type==="characterData"&&r.target===this.domNode))&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Y.blotName="text",Y.scope=f.INLINE_BLOT;const ot=Y}},Ae={};function Ot(Q){var C=Ae[Q];if(C!==void 0)return C.exports;var e=Ae[Q]={id:Q,loaded:!1,exports:{}};return Ie[Q](e,e.exports,Ot),e.loaded=!0,e.exports}Ot.n=function(Q){var C=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return Ot.d(C,{a:C}),C},Ot.d=function(Q,C){for(var e in C)Ot.o(C,e)&&!Ot.o(Q,e)&&Object.defineProperty(Q,e,{enumerable:!0,get:C[e]})},Ot.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),Ot.o=function(Q,C){return Object.prototype.hasOwnProperty.call(Q,C)},Ot.r=function(Q){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},Ot.nmd=function(Q){return Q.paths=[],Q.children||(Q.children=[]),Q};var Fe={};return(function(){"use strict";Ot.d(Fe,{default:function(){return me}});var Q=Ot(3729),C=Ot(8276),e=Ot(7912),f=Ot(6003);class x extends f.ClassAttributor{add(i,u){let D=0;if(u==="+1"||u==="-1"){const X=this.value(i)||0;D=u==="+1"?X+1:X-1}else typeof u=="number"&&(D=u);return D===0?(this.remove(i),!0):super.add(i,D.toString())}canAdd(i,u){return super.canAdd(i,u)||super.canAdd(i,parseInt(u,10))}value(i){return parseInt(super.value(i),10)||void 0}}var O=new x("indent","ql-indent",{scope:f.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),A=Ot(9698);class j extends A.Ay{static blotName="blockquote";static tagName="blockquote"}var a=j;class k extends A.Ay{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(i){return this.tagName.indexOf(i.tagName)+1}}var l=k,E=Ot(580),T=Ot(6142);class h extends E.A{}h.blotName="list-container",h.tagName="OL";class v extends A.Ay{static create(i){const u=super.create();return u.setAttribute("data-list",i),u}static formats(i){return i.getAttribute("data-list")||void 0}static register(){T.Ay.register(h)}constructor(i,u){super(i,u);const D=u.ownerDocument.createElement("span"),X=st=>{if(!i.isEnabled())return;const gt=this.statics.formats(u,i);gt==="checked"?(this.format("list","unchecked"),st.preventDefault()):gt==="unchecked"&&(this.format("list","checked"),st.preventDefault())};D.addEventListener("mousedown",X),D.addEventListener("touchstart",X),this.attachUI(D)}format(i,u){i===this.statics.blotName&&u?this.domNode.setAttribute("data-list",u):super.format(i,u)}}v.blotName="list",v.tagName="LI",h.allowedChildren=[v],v.requiredContainer=h;var _=Ot(9541),B=Ot(8638),z=Ot(6772),tt=Ot(664),rt=Ot(4850);class W extends rt.A{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(i){super.optimize(i),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}var m=W;class R extends rt.A{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(i){const u=super.create(i);return u.setAttribute("href",this.sanitize(i)),u.setAttribute("rel","noopener noreferrer"),u.setAttribute("target","_blank"),u}static formats(i){return i.getAttribute("href")}static sanitize(i){return K(i,this.PROTOCOL_WHITELIST)?i:this.SANITIZED_URL}format(i,u){i===this.statics.blotName&&u?this.domNode.setAttribute("href",this.constructor.sanitize(u)):super.format(i,u)}}function K(H,i){const u=document.createElement("a");u.href=H;const D=u.href.slice(0,u.href.indexOf(":"));return i.indexOf(D)>-1}class M extends rt.A{static blotName="script";static tagName=["SUB","SUP"];static create(i){return i==="super"?document.createElement("sup"):i==="sub"?document.createElement("sub"):super.create(i)}static formats(i){return i.tagName==="SUB"?"sub":i.tagName==="SUP"?"super":void 0}}var G=M;class it extends rt.A{static blotName="underline";static tagName="U"}var nt=it,ht=Ot(746);class pt extends ht.A{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(i){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const u=super.create(i);return typeof i=="string"&&(window.katex.render(i,u,{throwOnError:!1,errorColor:"#f00"}),u.setAttribute("data-value",i)),u}static value(i){return i.getAttribute("data-value")}html(){const{formula:i}=this.value();return`<span>${i}</span>`}}var J=pt;const Y=["alt","height","width"];class ot extends f.EmbedBlot{static blotName="image";static tagName="IMG";static create(i){const u=super.create(i);return typeof i=="string"&&u.setAttribute("src",this.sanitize(i)),u}static formats(i){return Y.reduce(((u,D)=>(i.hasAttribute(D)&&(u[D]=i.getAttribute(D)),u)),{})}static match(i){return/\.(jpe?g|gif|png)$/.test(i)||/^data:image\/.+;base64/.test(i)}static sanitize(i){return K(i,["http","https","data"])?i:"//:0"}static value(i){return i.getAttribute("src")}format(i,u){Y.indexOf(i)>-1?u?this.domNode.setAttribute(i,u):this.domNode.removeAttribute(i):super.format(i,u)}}var y=ot;const t=["height","width"];class n extends A.zo{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(i){const u=super.create(i);return u.setAttribute("frameborder","0"),u.setAttribute("allowfullscreen","true"),u.setAttribute("src",this.sanitize(i)),u}static formats(i){return t.reduce(((u,D)=>(i.hasAttribute(D)&&(u[D]=i.getAttribute(D)),u)),{})}static sanitize(i){return R.sanitize(i)}static value(i){return i.getAttribute("src")}format(i,u){t.indexOf(i)>-1?u?this.domNode.setAttribute(i,u):this.domNode.removeAttribute(i):super.format(i,u)}html(){const{video:i}=this.value();return`<a href="${i}">${i}</a>`}}var r=n,L=Ot(9404),c=Ot(5232),p=Ot.n(c),w=Ot(4266),q=Ot(3036),g=Ot(4541),s=Ot(5508),o=Ot(584);const d=new f.ClassAttributor("code-token","hljs",{scope:f.Scope.INLINE});class N extends rt.A{static formats(i,u){for(;i!=null&&i!==u.domNode;){if(i.classList&&i.classList.contains(L.Ay.className))return super.formats(i,u);i=i.parentNode}}constructor(i,u,D){super(i,u,D),d.add(this.domNode,D)}format(i,u){i!==N.blotName?super.format(i,u):u?d.add(this.domNode,u):(d.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),d.value(this.domNode)||this.unwrap()}}N.blotName="code-token",N.className="ql-token";class S extends L.Ay{static create(i){const u=super.create(i);return typeof i=="string"&&u.setAttribute("data-language",i),u}static formats(i){return i.getAttribute("data-language")||"plain"}static register(){}format(i,u){i===this.statics.blotName&&u?this.domNode.setAttribute("data-language",u):super.format(i,u)}replaceWith(i,u){return this.formatAt(0,this.length(),N.blotName,!1),super.replaceWith(i,u)}}class U extends L.EJ{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(i,u){i===S.blotName&&(this.forceNext=!0,this.children.forEach((D=>{D.format(i,u)})))}formatAt(i,u,D,X){D===S.blotName&&(this.forceNext=!0),super.formatAt(i,u,D,X)}highlight(i){let u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.children.head==null)return;const D=`${Array.from(this.domNode.childNodes).filter((st=>st!==this.uiNode)).map((st=>st.textContent)).join(`
`)}
`,X=S.formats(this.children.head.domNode);if(u||this.forceNext||this.cachedText!==D){if(D.trim().length>0||this.cachedText==null){const st=this.children.reduce(((Et,zt)=>Et.concat((0,A.mG)(zt,!1))),new(p())),gt=i(D,X);st.diff(gt).reduce(((Et,zt)=>{let{retain:Zt,attributes:Xt}=zt;return Zt?(Xt&&Object.keys(Xt).forEach((ee=>{[S.blotName,N.blotName].includes(ee)&&this.formatAt(Et,Zt,ee,Xt[ee])})),Et+Zt):Et}),0)}this.cachedText=D,this.forceNext=!1}}html(i,u){const[D]=this.children.find(i);return`<pre data-language="${D?S.formats(D.domNode):"plain"}">
${(0,s.X)(this.code(i,u))}
</pre>`}optimize(i){if(super.optimize(i),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const u=S.formats(this.children.head.domNode);u!==this.uiNode.value&&(this.uiNode.value=u)}}}U.allowedChildren=[S],S.requiredContainer=U,S.allowedChildren=[N,g.A,s.A,q.A];class $ extends w.A{static register(){T.Ay.register(N,!0),T.Ay.register(S,!0),T.Ay.register(U,!0)}constructor(i,u){if(super(i,u),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce(((D,X)=>{let{key:st}=X;return D[st]=!0,D}),{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(T.Ay.events.SCROLL_BLOT_MOUNT,(i=>{if(!(i instanceof U))return;const u=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach((D=>{let{key:X,label:st}=D;const gt=u.ownerDocument.createElement("option");gt.textContent=st,gt.setAttribute("value",X),u.appendChild(gt)})),u.addEventListener("change",(()=>{i.format(S.blotName,u.value),this.quill.root.focus(),this.highlight(i,!0)})),i.uiNode==null&&(i.attachUI(u),i.children.head&&(u.value=S.formats(i.children.head.domNode)))}))}initTimer(){let i=null;this.quill.on(T.Ay.events.SCROLL_OPTIMIZE,(()=>{i&&clearTimeout(i),i=setTimeout((()=>{this.highlight(),i=null}),this.options.interval)}))}highlight(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(T.Ay.sources.USER);const D=this.quill.getSelection();(i==null?this.quill.scroll.descendants(U):[i]).forEach((X=>{X.highlight(this.highlightBlot,u)})),this.quill.update(T.Ay.sources.SILENT),D!=null&&this.quill.setSelection(D,T.Ay.sources.SILENT)}highlightBlot(i){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(u=this.languages[u]?u:"plain",u==="plain")return(0,s.X)(i).split(`
`).reduce(((X,st,gt)=>(gt!==0&&X.insert(`
`,{[L.Ay.blotName]:u}),X.insert(st))),new(p()));const D=this.quill.root.ownerDocument.createElement("div");return D.classList.add(L.Ay.className),D.innerHTML=((X,st,gt)=>{if(typeof X.versionString=="string"){const Et=X.versionString.split(".")[0];if(parseInt(Et,10)>=11)return X.highlight(gt,{language:st}).value}return X.highlight(st,gt).value})(this.options.hljs,u,i),(0,o.hV)(this.quill.scroll,D,[(X,st)=>{const gt=d.value(X);return gt?st.compose(new(p())().retain(st.length(),{[N.blotName]:gt})):st}],[(X,st)=>X.data.split(`
`).reduce(((gt,Et,zt)=>(zt!==0&&gt.insert(`
`,{[L.Ay.blotName]:u}),gt.insert(Et))),st)],new WeakMap)}}$.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class V extends A.Ay{static blotName="table";static tagName="TD";static create(i){const u=super.create();return i?u.setAttribute("data-row",i):u.setAttribute("data-row",lt()),u}static formats(i){if(i.hasAttribute("data-row"))return i.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(i,u){i===V.blotName&&u?this.domNode.setAttribute("data-row",u):super.format(i,u)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class Z extends E.A{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const i=this.children.head.formats(),u=this.children.tail.formats(),D=this.next.children.head.formats(),X=this.next.children.tail.formats();return i.table===u.table&&i.table===D.table&&i.table===X.table}return!1}optimize(i){super.optimize(i),this.children.forEach((u=>{if(u.next==null)return;const D=u.formats(),X=u.next.formats();if(D.table!==X.table){const st=this.splitAfter(u);st&&st.optimize(),this.prev&&this.prev.optimize()}}))}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class et extends E.A{static blotName="table-body";static tagName="TBODY"}class at extends E.A{static blotName="table-container";static tagName="TABLE";balanceCells(){const i=this.descendants(Z),u=i.reduce(((D,X)=>Math.max(X.children.length,D)),0);i.forEach((D=>{new Array(u-D.children.length).fill(0).forEach((()=>{let X;D.children.head!=null&&(X=V.formats(D.children.head.domNode));const st=this.scroll.create(V.blotName,X);D.appendChild(st),st.optimize()}))}))}cells(i){return this.rows().map((u=>u.children.at(i)))}deleteColumn(i){const[u]=this.descendant(et);u!=null&&u.children.head!=null&&u.children.forEach((D=>{const X=D.children.at(i);X?.remove()}))}insertColumn(i){const[u]=this.descendant(et);u!=null&&u.children.head!=null&&u.children.forEach((D=>{const X=D.children.at(i),st=V.formats(D.children.head.domNode),gt=this.scroll.create(V.blotName,st);D.insertBefore(gt,X)}))}insertRow(i){const[u]=this.descendant(et);if(u==null||u.children.head==null)return;const D=lt(),X=this.scroll.create(Z.blotName);u.children.head.children.forEach((()=>{const gt=this.scroll.create(V.blotName,D);X.appendChild(gt)}));const st=u.children.at(i);u.insertBefore(X,st)}rows(){const i=this.children.head;return i==null?[]:i.children.map((u=>u))}}function lt(){return`row-${Math.random().toString(36).slice(2,6)}`}at.allowedChildren=[et],et.requiredContainer=at,et.allowedChildren=[Z],Z.requiredContainer=et,Z.allowedChildren=[V],V.requiredContainer=Z;class mt extends w.A{static register(){T.Ay.register(V),T.Ay.register(Z),T.Ay.register(et),T.Ay.register(at)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(at).forEach((i=>{i.balanceCells()}))}deleteColumn(){const[i,,u]=this.getTable();u!=null&&(i.deleteColumn(u.cellOffset()),this.quill.update(T.Ay.sources.USER))}deleteRow(){const[,i]=this.getTable();i!=null&&(i.remove(),this.quill.update(T.Ay.sources.USER))}deleteTable(){const[i]=this.getTable();if(i==null)return;const u=i.offset();i.remove(),this.quill.update(T.Ay.sources.USER),this.quill.setSelection(u,T.Ay.sources.SILENT)}getTable(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(i==null)return[null,null,null,-1];const[u,D]=this.quill.getLine(i.index);if(u==null||u.statics.blotName!==V.blotName)return[null,null,null,-1];const X=u.parent;return[X.parent.parent,X,u,D]}insertColumn(i){const u=this.quill.getSelection();if(!u)return;const[D,X,st]=this.getTable(u);if(st==null)return;const gt=st.cellOffset();D.insertColumn(gt+i),this.quill.update(T.Ay.sources.USER);let Et=X.rowOffset();i===0&&(Et+=1),this.quill.setSelection(u.index+Et,u.length,T.Ay.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(i){const u=this.quill.getSelection();if(!u)return;const[D,X,st]=this.getTable(u);if(st==null)return;const gt=X.rowOffset();D.insertRow(gt+i),this.quill.update(T.Ay.sources.USER),i>0?this.quill.setSelection(u,T.Ay.sources.SILENT):this.quill.setSelection(u.index+X.children.length,u.length,T.Ay.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(i,u){const D=this.quill.getSelection();if(D==null)return;const X=new Array(i).fill(0).reduce((st=>{const gt=new Array(u).fill(`
`).join("");return st.insert(gt,{table:lt()})}),new(p())().retain(D.index));this.quill.updateContents(X,T.Ay.sources.USER),this.quill.setSelection(D.index,T.Ay.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(T.Ay.events.SCROLL_OPTIMIZE,(i=>{i.some((u=>!!["TD","TR","TBODY","TABLE"].includes(u.target.tagName)&&(this.quill.once(T.Ay.events.TEXT_CHANGE,((D,X,st)=>{st===T.Ay.sources.USER&&this.balanceTables()})),!0)))}))}}var dt=mt;const ft=(0,Ot(6078).A)("quill:toolbar");class wt extends w.A{constructor(i,u){if(super(i,u),Array.isArray(this.options.container)){const D=document.createElement("div");D.setAttribute("role","toolbar"),(function(X,st){Array.isArray(st[0])||(st=[st]),st.forEach((gt=>{const Et=document.createElement("span");Et.classList.add("ql-formats"),gt.forEach((zt=>{if(typeof zt=="string")Tt(Et,zt);else{const Zt=Object.keys(zt)[0],Xt=zt[Zt];Array.isArray(Xt)?(function(ee,Ee,se){const ce=document.createElement("select");ce.classList.add(`ql-${Ee}`),se.forEach((P=>{const b=document.createElement("option");P!==!1?b.setAttribute("value",String(P)):b.setAttribute("selected","selected"),ce.appendChild(b)})),ee.appendChild(ce)})(Et,Zt,Xt):Tt(Et,Zt,Xt)}})),X.appendChild(Et)}))})(D,this.options.container),i.container?.parentNode?.insertBefore(D,i.container),this.container=D}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach((D=>{const X=this.options.handlers?.[D];X&&this.addHandler(D,X)})),Array.from(this.container.querySelectorAll("button, select")).forEach((D=>{this.attach(D)})),this.quill.on(T.Ay.events.EDITOR_CHANGE,(()=>{const[D]=this.quill.selection.getRange();this.update(D)}))):ft.error("Container required for toolbar",this.options)}addHandler(i,u){this.handlers[i]=u}attach(i){let u=Array.from(i.classList).find((X=>X.indexOf("ql-")===0));if(!u)return;if(u=u.slice(3),i.tagName==="BUTTON"&&i.setAttribute("type","button"),this.handlers[u]==null&&this.quill.scroll.query(u)==null)return void ft.warn("ignoring attaching to nonexistent format",u,i);const D=i.tagName==="SELECT"?"change":"click";i.addEventListener(D,(X=>{let st;if(i.tagName==="SELECT"){if(i.selectedIndex<0)return;const Et=i.options[i.selectedIndex];st=!Et.hasAttribute("selected")&&(Et.value||!1)}else st=!i.classList.contains("ql-active")&&(i.value||!i.hasAttribute("value")),X.preventDefault();this.quill.focus();const[gt]=this.quill.selection.getRange();if(this.handlers[u]!=null)this.handlers[u].call(this,st);else if(this.quill.scroll.query(u).prototype instanceof f.EmbedBlot){if(st=prompt(`Enter ${u}`),!st)return;this.quill.updateContents(new(p())().retain(gt.index).delete(gt.length).insert({[u]:st}),T.Ay.sources.USER)}else this.quill.format(u,st,T.Ay.sources.USER);this.update(gt)})),this.controls.push([u,i])}update(i){const u=i==null?{}:this.quill.getFormat(i);this.controls.forEach((D=>{const[X,st]=D;if(st.tagName==="SELECT"){let gt=null;if(i==null)gt=null;else if(u[X]==null)gt=st.querySelector("option[selected]");else if(!Array.isArray(u[X])){let Et=u[X];typeof Et=="string"&&(Et=Et.replace(/"/g,'\\"')),gt=st.querySelector(`option[value="${Et}"]`)}gt==null?(st.value="",st.selectedIndex=-1):gt.selected=!0}else if(i==null)st.classList.remove("ql-active"),st.setAttribute("aria-pressed","false");else if(st.hasAttribute("value")){const gt=u[X],Et=gt===st.getAttribute("value")||gt!=null&&gt.toString()===st.getAttribute("value")||gt==null&&!st.getAttribute("value");st.classList.toggle("ql-active",Et),st.setAttribute("aria-pressed",Et.toString())}else{const gt=u[X]!=null;st.classList.toggle("ql-active",gt),st.setAttribute("aria-pressed",gt.toString())}}))}}function Tt(H,i,u){const D=document.createElement("button");D.setAttribute("type","button"),D.classList.add(`ql-${i}`),D.setAttribute("aria-pressed","false"),u!=null?(D.value=u,D.setAttribute("aria-label",`${i}: ${u}`)):D.setAttribute("aria-label",i),H.appendChild(D)}wt.DEFAULTS={},wt.DEFAULTS={container:null,handlers:{clean(){const H=this.quill.getSelection();if(H!=null)if(H.length===0){const i=this.quill.getFormat();Object.keys(i).forEach((u=>{this.quill.scroll.query(u,f.Scope.INLINE)!=null&&this.quill.format(u,!1,T.Ay.sources.USER)}))}else this.quill.removeFormat(H.index,H.length,T.Ay.sources.USER)},direction(H){const{align:i}=this.quill.getFormat();H==="rtl"&&i==null?this.quill.format("align","right",T.Ay.sources.USER):H||i!=="right"||this.quill.format("align",!1,T.Ay.sources.USER),this.quill.format("direction",H,T.Ay.sources.USER)},indent(H){const i=this.quill.getSelection(),u=this.quill.getFormat(i),D=parseInt(u.indent||0,10);if(H==="+1"||H==="-1"){let X=H==="+1"?1:-1;u.direction==="rtl"&&(X*=-1),this.quill.format("indent",D+X,T.Ay.sources.USER)}},link(H){H===!0&&(H=prompt("Enter link URL:")),this.quill.format("link",H,T.Ay.sources.USER)},list(H){const i=this.quill.getSelection(),u=this.quill.getFormat(i);H==="check"?u.list==="checked"||u.list==="unchecked"?this.quill.format("list",!1,T.Ay.sources.USER):this.quill.format("list","unchecked",T.Ay.sources.USER):this.quill.format("list",H,T.Ay.sources.USER)}}};const Lt='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>';var ut={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:Lt,"code-block":Lt,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let bt=0;function xt(H,i){H.setAttribute(i,`${H.getAttribute(i)!=="true"}`)}var St=class{constructor(H){this.select=H,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(()=>{this.togglePicker()})),this.label.addEventListener("keydown",(i=>{switch(i.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),i.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),xt(this.label,"aria-expanded"),xt(this.options,"aria-hidden")}buildItem(H){const i=document.createElement("span");i.tabIndex="0",i.setAttribute("role","button"),i.classList.add("ql-picker-item");const u=H.getAttribute("value");return u&&i.setAttribute("data-value",u),H.textContent&&i.setAttribute("data-label",H.textContent),i.addEventListener("click",(()=>{this.selectItem(i,!0)})),i.addEventListener("keydown",(D=>{switch(D.key){case"Enter":this.selectItem(i,!0),D.preventDefault();break;case"Escape":this.escape(),D.preventDefault()}})),i}buildLabel(){const H=document.createElement("span");return H.classList.add("ql-picker-label"),H.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',H.tabIndex="0",H.setAttribute("role","button"),H.setAttribute("aria-expanded","false"),this.container.appendChild(H),H}buildOptions(){const H=document.createElement("span");H.classList.add("ql-picker-options"),H.setAttribute("aria-hidden","true"),H.tabIndex="-1",H.id=`ql-picker-options-${bt}`,bt+=1,this.label.setAttribute("aria-controls",H.id),this.options=H,Array.from(this.select.options).forEach((i=>{const u=this.buildItem(i);H.appendChild(u),i.selected===!0&&this.selectItem(u)})),this.container.appendChild(H)}buildPicker(){Array.from(this.select.attributes).forEach((H=>{this.container.setAttribute(H.name,H.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout((()=>this.label.focus()),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(H){let i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const u=this.container.querySelector(".ql-selected");H!==u&&(u?.classList.remove("ql-selected"),H!=null&&(H.classList.add("ql-selected"),this.select.selectedIndex=Array.from(H.parentNode.children).indexOf(H),H.hasAttribute("data-value")?this.label.setAttribute("data-value",H.getAttribute("data-value")):this.label.removeAttribute("data-value"),H.hasAttribute("data-label")?this.label.setAttribute("data-label",H.getAttribute("data-label")):this.label.removeAttribute("data-label"),i&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let H;if(this.select.selectedIndex>-1){const u=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];H=this.select.options[this.select.selectedIndex],this.selectItem(u)}else this.selectItem(null);const i=H!=null&&H!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",i)}},Nt=class extends St{constructor(H,i){super(H),this.label.innerHTML=i,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach((u=>{u.classList.add("ql-primary")}))}buildItem(H){const i=super.buildItem(H);return i.style.backgroundColor=H.getAttribute("value")||"",i}selectItem(H,i){super.selectItem(H,i);const u=this.label.querySelector(".ql-color-label"),D=H&&H.getAttribute("data-value")||"";u&&(u.tagName==="line"?u.style.stroke=D:u.style.fill=D)}},jt=class extends St{constructor(H,i){super(H),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach((u=>{u.innerHTML=i[u.getAttribute("data-value")||""]})),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(H,i){super.selectItem(H,i);const u=H||this.defaultItem;if(u!=null){if(this.label.innerHTML===u.innerHTML)return;this.label.innerHTML=u.innerHTML}}},Mt=class{constructor(H,i){this.quill=H,this.boundsContainer=i||document.body,this.root=H.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(u=>{const{overflowY:D}=getComputedStyle(u,null);return D!=="visible"&&D!=="clip"})(this.quill.root)&&this.quill.root.addEventListener("scroll",(()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"})),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(H){const i=H.left+H.width/2-this.root.offsetWidth/2,u=H.bottom+this.quill.root.scrollTop;this.root.style.left=`${i}px`,this.root.style.top=`${u}px`,this.root.classList.remove("ql-flip");const D=this.boundsContainer.getBoundingClientRect(),X=this.root.getBoundingClientRect();let st=0;if(X.right>D.right&&(st=D.right-X.right,this.root.style.left=`${i+st}px`),X.left<D.left&&(st=D.left-X.left,this.root.style.left=`${i+st}px`),X.bottom>D.bottom){const gt=X.bottom-X.top,Et=H.bottom-H.top+gt;this.root.style.top=u-Et+"px",this.root.classList.add("ql-flip")}return st}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},Pt=Ot(8347),_t=Ot(5374),pe=Ot(9609);const xe=[!1,"center","right","justify"],he=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Le=[!1,"serif","monospace"],Se=["1","2","3",!1],qe=["small",!1,"large","huge"];class oe extends pe.A{constructor(i,u){super(i,u);const D=X=>{document.body.contains(i.root)?(this.tooltip==null||this.tooltip.root.contains(X.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach((st=>{st.container.contains(X.target)||st.close()}))):document.body.removeEventListener("click",D)};i.emitter.listenDOM("click",document.body,D)}addModule(i){const u=super.addModule(i);return i==="toolbar"&&this.extendToolbar(u),u}buildButtons(i,u){Array.from(i).forEach((D=>{(D.getAttribute("class")||"").split(/\s+/).forEach((X=>{if(X.startsWith("ql-")&&(X=X.slice(3),u[X]!=null))if(X==="direction")D.innerHTML=u[X][""]+u[X].rtl;else if(typeof u[X]=="string")D.innerHTML=u[X];else{const st=D.value||"";st!=null&&u[X][st]&&(D.innerHTML=u[X][st])}}))}))}buildPickers(i,u){this.pickers=Array.from(i).map((D=>{if(D.classList.contains("ql-align")&&(D.querySelector("option")==null&&Wt(D,xe),typeof u.align=="object"))return new jt(D,u.align);if(D.classList.contains("ql-background")||D.classList.contains("ql-color")){const X=D.classList.contains("ql-background")?"background":"color";return D.querySelector("option")==null&&Wt(D,he,X==="background"?"#ffffff":"#000000"),new Nt(D,u[X])}return D.querySelector("option")==null&&(D.classList.contains("ql-font")?Wt(D,Le):D.classList.contains("ql-header")?Wt(D,Se):D.classList.contains("ql-size")&&Wt(D,qe)),new St(D)})),this.quill.on(_t.A.events.EDITOR_CHANGE,(()=>{this.pickers.forEach((D=>{D.update()}))}))}}oe.DEFAULTS=(0,Pt.A)({},pe.A.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let H=this.container.querySelector("input.ql-image[type=file]");H==null&&(H=document.createElement("input"),H.setAttribute("type","file"),H.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),H.classList.add("ql-image"),H.addEventListener("change",(()=>{const i=this.quill.getSelection(!0);this.quill.uploader.upload(i,H.files),H.value=""})),this.container.appendChild(H)),H.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class ne extends Mt{constructor(i,u){super(i,u),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",(i=>{i.key==="Enter"?(this.save(),i.preventDefault()):i.key==="Escape"&&(this.cancel(),i.preventDefault())}))}cancel(){this.hide(),this.restoreFocus()}edit(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;u!=null?this.textbox.value=u:i!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const D=this.quill.getBounds(this.quill.selection.savedRange);D!=null&&this.position(D),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${i}`)||""),this.root.setAttribute("data-mode",i)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:i}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:u}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",i,_t.A.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",i,_t.A.sources.USER)),this.quill.root.scrollTop=u;break}case"video":i=(function(u){let D=u.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||u.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return D?`${D[1]||"https"}://www.youtube.com/embed/${D[2]}?showinfo=0`:(D=u.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${D[1]||"https"}://player.vimeo.com/video/${D[2]}/`:u})(i);case"formula":{if(!i)break;const u=this.quill.getSelection(!0);if(u!=null){const D=u.index+u.length;this.quill.insertEmbed(D,this.root.getAttribute("data-mode"),i,_t.A.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(D+1," ",_t.A.sources.USER),this.quill.setSelection(D+2,_t.A.sources.USER)}break}}this.textbox.value="",this.hide()}}function Wt(H,i){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];i.forEach((D=>{const X=document.createElement("option");D===u?X.setAttribute("selected","selected"):X.setAttribute("value",String(D)),H.appendChild(X)}))}var te=Ot(8298);const Qt=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Vt extends ne{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(i,u){super(i,u),this.quill.on(_t.A.events.EDITOR_CHANGE,((D,X,st,gt)=>{if(D===_t.A.events.SELECTION_CHANGE)if(X!=null&&X.length>0&&gt===_t.A.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const Et=this.quill.getLines(X.index,X.length);if(Et.length===1){const zt=this.quill.getBounds(X);zt!=null&&this.position(zt)}else{const zt=Et[Et.length-1],Zt=this.quill.getIndex(zt),Xt=Math.min(zt.length()-1,X.index+X.length-Zt),ee=this.quill.getBounds(new te.Q(Zt,Xt));ee!=null&&this.position(ee)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()}))}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",(()=>{this.root.classList.remove("ql-editing")})),this.quill.on(_t.A.events.SCROLL_OPTIMIZE,(()=>{setTimeout((()=>{if(this.root.classList.contains("ql-hidden"))return;const i=this.quill.getSelection();if(i!=null){const u=this.quill.getBounds(i);u!=null&&this.position(u)}}),1)}))}cancel(){this.show()}position(i){const u=super.position(i),D=this.root.querySelector(".ql-tooltip-arrow");return D.style.marginLeft="",u!==0&&(D.style.marginLeft=-1*u-D.offsetWidth/2+"px"),u}}class Yt extends oe{constructor(i,u){u.modules.toolbar!=null&&u.modules.toolbar.container==null&&(u.modules.toolbar.container=Qt),super(i,u),this.quill.container.classList.add("ql-bubble")}extendToolbar(i){this.tooltip=new Vt(this.quill,this.options.bounds),i.container!=null&&(this.tooltip.root.appendChild(i.container),this.buildButtons(i.container.querySelectorAll("button"),ut),this.buildPickers(i.container.querySelectorAll("select"),ut))}}Yt.DEFAULTS=(0,Pt.A)({},oe.DEFAULTS,{modules:{toolbar:{handlers:{link(H){H?this.quill.theme.tooltip.edit():this.quill.format("link",!1,T.Ay.sources.USER)}}}}});const Jt=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Ne extends ne{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",(i=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),i.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(i=>{if(this.linkRange!=null){const u=this.linkRange;this.restoreFocus(),this.quill.formatText(u,"link",!1,_t.A.sources.USER),delete this.linkRange}i.preventDefault(),this.hide()})),this.quill.on(_t.A.events.SELECTION_CHANGE,((i,u,D)=>{if(i!=null){if(i.length===0&&D===_t.A.sources.USER){const[X,st]=this.quill.scroll.descendant(R,i.index);if(X!=null){this.linkRange=new te.Q(i.index-st,X.length());const gt=R.formats(X.domNode);this.preview.textContent=gt,this.preview.setAttribute("href",gt),this.show();const Et=this.quill.getBounds(this.linkRange);return void(Et!=null&&this.position(Et))}}else delete this.linkRange;this.hide()}}))}show(){super.show(),this.root.removeAttribute("data-mode")}}class ae extends oe{constructor(i,u){u.modules.toolbar!=null&&u.modules.toolbar.container==null&&(u.modules.toolbar.container=Jt),super(i,u),this.quill.container.classList.add("ql-snow")}extendToolbar(i){i.container!=null&&(i.container.classList.add("ql-snow"),this.buildButtons(i.container.querySelectorAll("button"),ut),this.buildPickers(i.container.querySelectorAll("select"),ut),this.tooltip=new Ne(this.quill,this.options.bounds),i.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},((u,D)=>{i.handlers.link.call(i,!D.format.link)})))}}ae.DEFAULTS=(0,Pt.A)({},oe.DEFAULTS,{modules:{toolbar:{handlers:{link(H){if(H){const i=this.quill.getSelection();if(i==null||i.length===0)return;let u=this.quill.getText(i);/^\S+@\S+\.\S+$/.test(u)&&u.indexOf("mailto:")!==0&&(u=`mailto:${u}`);const{tooltip:D}=this.quill.theme;D.edit("link",u)}else this.quill.format("link",!1,T.Ay.sources.USER)}}}}});var ge=ae;Q.default.register({"attributors/attribute/direction":e.Mc,"attributors/class/align":C.qh,"attributors/class/background":_.l,"attributors/class/color":B.g3,"attributors/class/direction":e.sY,"attributors/class/font":z.q,"attributors/class/size":tt.U,"attributors/style/align":C.Hu,"attributors/style/background":_.s,"attributors/style/color":B.JM,"attributors/style/direction":e.VL,"attributors/style/font":z.z,"attributors/style/size":tt.r},!0),Q.default.register({"formats/align":C.qh,"formats/direction":e.sY,"formats/indent":O,"formats/background":_.s,"formats/color":B.JM,"formats/font":z.q,"formats/size":tt.U,"formats/blockquote":a,"formats/code-block":L.Ay,"formats/header":l,"formats/list":v,"formats/bold":m,"formats/code":L.Cy,"formats/italic":class extends m{static blotName="italic";static tagName=["EM","I"]},"formats/link":R,"formats/script":G,"formats/strike":class extends m{static blotName="strike";static tagName=["S","STRIKE"]},"formats/underline":nt,"formats/formula":J,"formats/image":y,"formats/video":r,"modules/syntax":$,"modules/table":dt,"modules/toolbar":wt,"themes/bubble":Yt,"themes/snow":ge,"ui/icons":ut,"ui/picker":St,"ui/icon-picker":jt,"ui/color-picker":Nt,"ui/tooltip":Mt},!0);var me=Q.default})(),Fe.default})()}));
